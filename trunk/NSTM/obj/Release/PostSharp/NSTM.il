// Generated by PostSharp 1.0.5.218 at 22.07.2007 12:58:58.
.typelist
{
  NSTM.Infrastructure.ThreadTransactionStack
  NSTM.NstmAtomicAttribute
  NSTM.NstmTransactionalAttribute
  NSTM.NstmTransactional`1
  NSTM.NstmTransactionalAspect
  NSTM.INstmVersioned
  NSTM.INstmObject
  NSTM.INstmObject`1
  NSTM.NstmObject`1
  NSTM.NstmTransactionActivityMode
  NSTM.INstmTransaction
  NSTM.NstmVersion
  NSTM.NstmVersionableAspect
  NSTM.Infrastructure.TransactionLog
  NSTM.NstmTransactionScopeOption
  NSTM.NstmTransactionIsolationLevel
  NSTM.NstmTransactionCloneMode
  NSTM.NstmSystemTransactionsMode
  NSTM.NstmMemory
  NSTM.NstmReadOption
  NSTM.NstmTransaction
  NSTM.Infrastructure.TransactionLogEntry
  NSTM.Infrastructure.NstmObjectTransactionLogEntry
  NSTM.Infrastructure.FieldlistTransactionLogEntry
'~PostSharp~Laos~Implementation'
}
.assembly extern mscorlib
{
  .publickeytoken = (  B7 7A 5C 56 19 34 E0 89)
  .ver 2:0:0:0
}
.assembly extern PostSharp.Laos
{
  .publickeytoken = (  B1 3F D3 8B 8F 9C 99 D7)
  .ver 1:0:5:218
}
.assembly extern System.Transactions
{
  .publickeytoken = (  B7 7A 5C 56 19 34 E0 89)
  .ver 2:0:0:0
}
.assembly extern System
{
  .publickeytoken = (  B7 7A 5C 56 19 34 E0 89)
  .ver 2:0:0:0
}
.assembly extern PostSharp.Public
{
  .publickeytoken = (  B1 3F D3 8B 8F 9C 99 D7)
  .ver 1:0:5:216
}
.assembly NSTM
{
  .custom instance void [mscorlib]System.Reflection.AssemblyTrademarkAttribute::.ctor(string) = (  01 00 00 00 00)
  .custom instance void [mscorlib]System.Reflection.AssemblyCopyrightAttribute::.ctor(string) = (  01 00 37 43 6F 70 79 72 69 67 68 74 20 C2 A9 20
                                                                                                  32 30 30 37 20 62 79 20 52 61 6C 66 20 57 65 73
                                                                                                  74 70 68 61 6C 20 2D 20 4F 6E 65 20 4D 61 6E 20
                                                                                                  54 68 69 6E 6B 20 54 61 6E 6B 00 00)
  .custom instance void [mscorlib]System.Runtime.CompilerServices.RuntimeCompatibilityAttribute::.ctor() = (  01 00 01 00 54 02 16 57 72 61 70 4E 6F 6E 45 78
                                                                                                             63 65 70 74 69 6F 6E 54 68 72 6F 77 73 01)
  .custom instance void [mscorlib]System.Reflection.AssemblyFileVersionAttribute::.ctor(string) = (  01 00 07 31 2E 30 2E 30 2E 30 00 00)
  .custom instance void [mscorlib]System.Runtime.InteropServices.GuidAttribute::.ctor(string) = (  01 00 24 33 64 39 38 34 36 30 34 2D 63 64 36 35
                                                                                                  2D 34 35 35 33 2D 39 63 65 38 2D 36 30 31 65 36
                                                                                                  35 33 36 37 35 61 66 00 00)
  .custom instance void [mscorlib]System.Runtime.InteropServices.ComVisibleAttribute::.ctor(bool) = (  01 00 00 00 00)
  .custom instance void [mscorlib]System.Reflection.AssemblyConfigurationAttribute::.ctor(string) = (  01 00 00 00 00)
  .custom instance void [mscorlib]System.Reflection.AssemblyProductAttribute::.ctor(string) = (  01 00 04 4E 53 54 4D 00 00)
  .custom instance void [mscorlib]System.Reflection.AssemblyCompanyAttribute::.ctor(string) = (  01 00 34 52 61 6C 66 20 57 65 73 74 70 68 61 6C
                                                                                                20 2D 20 4F 6E 65 20 4D 61 6E 20 54 68 69 6E 6B
                                                                                                20 54 61 6E 6B 2C 20 48 61 6D 62 75 72 67 2C 20
                                                                                                47 65 72 6D 61 6E 79 00 00)
  .custom instance void [mscorlib]System.Reflection.AssemblyTitleAttribute::.ctor(string) = (  01 00 04 4E 53 54 4D 00 00)
  .custom instance void [mscorlib]System.Runtime.CompilerServices.CompilationRelaxationsAttribute::.ctor(int32) = (  01 00 08 00 00 00 00 00)
  .custom instance void [mscorlib]System.Reflection.AssemblyDescriptionAttribute::.ctor(string) = (  01 00 22 2E 4E 45 54 20 53 6F 66 74 77 61 72 65
                                                                                                    20 54 72 61 6E 73 61 63 74 69 6F 6E 61 6C 20 4D
                                                                                                    65 6D 6F 72 79 00 00)
  // Intentionally skipped: System.Diagnostics.DebuggableAttribute
  .hash algorithm 0x00008004
  .ver 1:0:0:202
}
.mresource private '~PostSharp~Laos~CustomAttributes~'
{
}
.module NSTM.dll
.imagebase 0x400000
.file alignment 0x00001000
.stackreserve 0x100000
.subsystem 0x0003
.corflags 0x00000001
.class private auto ansi beforefieldinit NSTM.Infrastructure.ThreadTransactionStack
      extends [mscorlib]System.Object
{
}
// End of type: NSTM.Infrastructure.ThreadTransactionStack


.class public auto ansi serializable beforefieldinit NSTM.NstmAtomicAttribute
      extends [PostSharp.Laos]PostSharp.Laos.OnMethodBoundaryAspect
{
}
// End of type: NSTM.NstmAtomicAttribute


.class public auto ansi serializable beforefieldinit NSTM.NstmTransactionalAttribute
      extends [PostSharp.Laos]PostSharp.Laos.CompoundAspect
{
}
// End of type: NSTM.NstmTransactionalAttribute


.class public auto ansi NSTM.NstmTransactional`1<T>
      extends [mscorlib]System.Object
      implements NSTM.INstmVersioned
{
}
// End of type: NSTM.NstmTransactional`1


.class private auto ansi serializable beforefieldinit NSTM.NstmTransactionalAspect
      extends [PostSharp.Laos]PostSharp.Laos.OnFieldAccessAspect
{
}
// End of type: NSTM.NstmTransactionalAspect


.class interface public abstract auto ansi NSTM.INstmVersioned
{
}
// End of type: NSTM.INstmVersioned


.class interface private abstract auto ansi NSTM.INstmObject
      implements NSTM.INstmVersioned
{
}
// End of type: NSTM.INstmObject


.class interface public abstract auto ansi NSTM.INstmObject`1<T>
{
}
// End of type: NSTM.INstmObject`1


.class private auto ansi NSTM.NstmObject`1<T>
      extends [mscorlib]System.Object
      implements class NSTM.INstmObject`1<!T>, 
                 NSTM.INstmObject, 
                 NSTM.INstmVersioned
{
}
// End of type: NSTM.NstmObject`1


.class public auto ansi sealed NSTM.NstmTransactionActivityMode
      extends [mscorlib]System.Enum
{
}
// End of type: NSTM.NstmTransactionActivityMode


.class interface public abstract auto ansi NSTM.INstmTransaction
      implements  [mscorlib]System.IDisposable
{
}
// End of type: NSTM.INstmTransaction


.class private auto ansi beforefieldinit NSTM.NstmVersion
      extends [mscorlib]System.Object
      implements NSTM.INstmVersioned
{
}
// End of type: NSTM.NstmVersion


.class private auto ansi serializable beforefieldinit NSTM.NstmVersionableAspect
      extends [PostSharp.Laos]PostSharp.Laos.CompositionAspect
{
}
// End of type: NSTM.NstmVersionableAspect


.class private auto ansi beforefieldinit NSTM.Infrastructure.TransactionLog
      extends [mscorlib]System.Object
      implements  [mscorlib]System.ICloneable
{
}
// End of type: NSTM.Infrastructure.TransactionLog


.class public auto ansi sealed NSTM.NstmTransactionScopeOption
      extends [mscorlib]System.Enum
{
}
// End of type: NSTM.NstmTransactionScopeOption


.class public auto ansi sealed NSTM.NstmTransactionIsolationLevel
      extends [mscorlib]System.Enum
{
}
// End of type: NSTM.NstmTransactionIsolationLevel


.class public auto ansi sealed NSTM.NstmTransactionCloneMode
      extends [mscorlib]System.Enum
{
}
// End of type: NSTM.NstmTransactionCloneMode


.class public auto ansi sealed NSTM.NstmSystemTransactionsMode
      extends [mscorlib]System.Enum
{
}
// End of type: NSTM.NstmSystemTransactionsMode


.class public abstract auto ansi sealed beforefieldinit NSTM.NstmMemory
      extends [mscorlib]System.Object
{
}
// End of type: NSTM.NstmMemory


.class public auto ansi sealed NSTM.NstmReadOption
      extends [mscorlib]System.Enum
{
}
// End of type: NSTM.NstmReadOption


.class private auto ansi beforefieldinit NSTM.NstmTransaction
      extends [mscorlib]System.Object
      implements NSTM.INstmTransaction, 
                 [mscorlib]System.IDisposable, 
                 [System.Transactions]System.Transactions.IEnlistmentNotification
{
}
// End of type: NSTM.NstmTransaction


.class private abstract auto ansi beforefieldinit NSTM.Infrastructure.TransactionLogEntry
      extends [mscorlib]System.Object
      implements  [mscorlib]System.ICloneable
{
}
// End of type: NSTM.Infrastructure.TransactionLogEntry


.class private auto ansi beforefieldinit NSTM.Infrastructure.NstmObjectTransactionLogEntry
      extends NSTM.Infrastructure.TransactionLogEntry
{
}
// End of type: NSTM.Infrastructure.NstmObjectTransactionLogEntry


.class private auto ansi beforefieldinit NSTM.Infrastructure.FieldlistTransactionLogEntry
      extends NSTM.Infrastructure.TransactionLogEntry
{
}
// End of type: NSTM.Infrastructure.FieldlistTransactionLogEntry


.class private auto ansi sealed '~PostSharp~Laos~Implementation'
      extends [mscorlib]System.Object
{
}
// End of type: ~PostSharp~Laos~Implementation


.class private auto ansi beforefieldinit NSTM.Infrastructure.ThreadTransactionStack
      extends [mscorlib]System.Object
{
  .field private static literal string TLS_TX_STACK_SLOTNAME =  "NstmTxStack"

  .field private class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction> txStack

  .method assembly hidebysig specialname rtspecialname
          instance void .ctor() cil managed
  {
    .maxstack 2
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 3 child(ren), 0 sequence(s), 0-42
    // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-6

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-6 }
    .line 27,27 : 9,42  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\ThreadTransactionStack.cs'
    ldarg.0   
    call       instance void [mscorlib]System.Object::.ctor()
    {
      // InstructionBlock 2 [], 1 local(s), 0 handler(s), 0 child(ren), 2 sequence(s), 6-41
      .locals init ( [0]  class [mscorlib]System.LocalDataStoreSlot txStackTLSSlot)

    IL_0001:
      // {InstructionSequence 1 Original, Range=6-2a }
      .line 29,29 : 13,119
      ldstr       "NstmTxStack"
      call       class [mscorlib]System.LocalDataStoreSlot [mscorlib]System.Threading.Thread::GetNamedDataSlot(string)
      stloc.0   
      .line 30,30 : 13,82
      ldarg.0   
      ldloc.0   
      call       object [mscorlib]System.Threading.Thread::GetData(class [mscorlib]System.LocalDataStoreSlot)
      castclass  class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction>
      stfld      class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction> NSTM.Infrastructure.ThreadTransactionStack::txStack
      .line 31,31 : 13,38
      ldarg.0   
      ldfld      class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction> NSTM.Infrastructure.ThreadTransactionStack::txStack
      brtrue.s   IL_0003

    IL_0002:
      // {InstructionSequence 2 Original, Range=2a-41 }
      .line 33,33 : 17,60
      ldarg.0   
      newobj     instance void class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction>::.ctor()
      stfld      class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction> NSTM.Infrastructure.ThreadTransactionStack::txStack
      .line 34,34 : 17,62
      ldloc.0   
      ldarg.0   
      ldfld      class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction> NSTM.Infrastructure.ThreadTransactionStack::txStack
      call       void [mscorlib]System.Threading.Thread::SetData(class [mscorlib]System.LocalDataStoreSlot,
                                                                 object)
    }
    // InstructionBlock 3 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 41-42

  IL_0003:
    // {InstructionSequence 3 Original, Range=41-42 }
    .line 36,36 : 9,10
    ret       
  }
  // End of method: NSTM.Infrastructure.ThreadTransactionStack/.ctor() : void

  .method public hidebysig instance void
          Push(class NSTM.NstmTransaction tx) cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-d

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-d }
    .line 41,41 : 13,34  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\ThreadTransactionStack.cs'
    ldarg.0   
    ldfld      class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction> NSTM.Infrastructure.ThreadTransactionStack::txStack
    ldarg.1   
    callvirt   instance void class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction>::Add(!0)
    .line 42,42 : 9,10
    ret       
  }
  // End of method: NSTM.Infrastructure.ThreadTransactionStack/Push(NSTM.NstmTransaction tx) : void

  .method public hidebysig instance class NSTM.NstmTransaction
          Pop() cil managed
  {
    .maxstack 3
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 3 child(ren), 0 sequence(s), 0-43
    // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-e

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-e }
    .line 47,47 : 13,40  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\ThreadTransactionStack.cs'
    ldarg.0   
    ldfld      class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction> NSTM.Infrastructure.ThreadTransactionStack::txStack
    callvirt   instance int32 class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction>::get_Count()
    ldc.i4.0  
    ble.s      IL_0002
    {
      // InstructionBlock 2 [], 1 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), e-41
      .locals init ( [0]  class NSTM.NstmTransaction tx)

    IL_0001:
      // {InstructionSequence 1 Original, Range=e-41 }
      .line 49,49 : 17,75
      ldarg.0   
      ldfld      class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction> NSTM.Infrastructure.ThreadTransactionStack::txStack
      ldarg.0   
      ldfld      class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction> NSTM.Infrastructure.ThreadTransactionStack::txStack
      callvirt   instance int32 class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction>::get_Count()
      ldc.i4.1  
      sub       
      callvirt   instance !0 class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction>::get_Item(int32)
      stloc.0   
      .line 50,50 : 17,63
      ldarg.0   
      ldfld      class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction> NSTM.Infrastructure.ThreadTransactionStack::txStack
      ldarg.0   
      ldfld      class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction> NSTM.Infrastructure.ThreadTransactionStack::txStack
      callvirt   instance int32 class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction>::get_Count()
      ldc.i4.1  
      sub       
      callvirt   instance void class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction>::RemoveAt(int32)
      .line 51,51 : 17,27
      ldloc.0   
      ret       
    }
    // InstructionBlock 3 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 41-43

  IL_0002:
    // {InstructionSequence 2 Original, Range=41-43 }
    .line 54,54 : 17,29
    ldnull    
    ret       
  }
  // End of method: NSTM.Infrastructure.ThreadTransactionStack/Pop() : NSTM.NstmTransaction

  .method public hidebysig instance class NSTM.NstmTransaction
          Peek() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 3 sequence(s), 0-29

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-e }
    .line 60,60 : 13,40  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\ThreadTransactionStack.cs'
    ldarg.0   
    ldfld      class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction> NSTM.Infrastructure.ThreadTransactionStack::txStack
    callvirt   instance int32 class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction>::get_Count()
    ldc.i4.0  
    ble.s      IL_0002

  IL_0001:
    // {InstructionSequence 1 Original, Range=e-27 }
    .line 61,61 : 17,61
    ldarg.0   
    ldfld      class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction> NSTM.Infrastructure.ThreadTransactionStack::txStack
    ldarg.0   
    ldfld      class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction> NSTM.Infrastructure.ThreadTransactionStack::txStack
    callvirt   instance int32 class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction>::get_Count()
    ldc.i4.1  
    sub       
    callvirt   instance !0 class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction>::get_Item(int32)
    ret       

  IL_0002:
    // {InstructionSequence 2 Original, Range=27-29 }
    .line 63,63 : 17,29
    ldnull    
    ret       
  }
  // End of method: NSTM.Infrastructure.ThreadTransactionStack/Peek() : NSTM.NstmTransaction

  .method public hidebysig instance class NSTM.NstmTransaction
          FindBySystemTransaction(class [System.Transactions]System.Transactions.Transaction txSystem) cil managed
  {
    .maxstack 2
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 2 child(ren), 0 sequence(s), 0-37
    {
      // InstructionBlock 1 [], 1 local(s), 0 handler(s), 3 child(ren), 0 sequence(s), 0-35
      .locals init ( [0]  int32 i)
      // InstructionBlock 3 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-10

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-10 }
      .line 69,69 : 18,49  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\ThreadTransactionStack.cs'
      ldarg.0   
      ldfld      class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction> NSTM.Infrastructure.ThreadTransactionStack::txStack
      callvirt   instance int32 class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction>::get_Count()
      ldc.i4.1  
      sub       
      stloc.0   
      .line 0x00feefee
      br.s       IL_0004
      {
        // InstructionBlock 4 [], 1 local(s), 0 handler(s), 0 child(ren), 2 sequence(s), 10-2d
        .locals init ( [1]  class NSTM.NstmTransaction tx)

      IL_0001:
        // {InstructionSequence 1 Original, Range=10-2b }
        .line 71,71 : 17,54
        ldarg.0   
        ldfld      class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction> NSTM.Infrastructure.ThreadTransactionStack::txStack
        ldloc.0   
        callvirt   instance !0 class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction>::get_Item(int32)
        stloc.1   
        .line 72,72 : 17,54
        ldloc.1   
        callvirt   instance class [System.Transactions]System.Transactions.Transaction NSTM.NstmTransaction::get_SystemTransaction()
        ldarg.1   
        call       bool [System.Transactions]System.Transactions.Transaction::op_Equality(class [System.Transactions]System.Transactions.Transaction,
                                                                                          class [System.Transactions]System.Transactions.Transaction)
        brfalse.s  IL_0003

      IL_0002:
        // {InstructionSequence 2 Original, Range=2b-2d }
        .line 73,73 : 21,31
        ldloc.1   
        ret       
      }
      // InstructionBlock 5 [], 0 local(s), 0 handler(s), 0 child(ren), 2 sequence(s), 2d-35

    IL_0003:
      // {InstructionSequence 3 Original, Range=2d-31 }
      .line 69,69 : 58,61
      ldloc.0   
      ldc.i4.1  
      sub       
      stloc.0   

    IL_0004:
      // {InstructionSequence 4 Original, Range=31-35 }
      .line 69,69 : 50,56
      ldloc.0   
      ldc.i4.0  
      bge.s      IL_0001
    }
    // InstructionBlock 2 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 35-37

  IL_0005:
    // {InstructionSequence 5 Original, Range=35-37 }
    .line 76,76 : 13,25
    ldnull    
    ret       
  }
  // End of method: NSTM.Infrastructure.ThreadTransactionStack/FindBySystemTransaction([System.Transactions]System.Transactions.Transaction txSystem) : NSTM.NstmTransaction

  .method public hidebysig instance void
          Remove(class NSTM.NstmTransaction tx) cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 3 sequence(s), 0-1c

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-9 }
    .line 82,82 : 13,35  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\ThreadTransactionStack.cs'
    ldarg.0   
    call       instance class NSTM.NstmTransaction NSTM.Infrastructure.ThreadTransactionStack::Peek()
    ldarg.1   
    bne.un.s   IL_0002

  IL_0001:
    // {InstructionSequence 1 Original, Range=9-11 }
    .line 83,83 : 17,28
    ldarg.0   
    call       instance class NSTM.NstmTransaction NSTM.Infrastructure.ThreadTransactionStack::Pop()
    pop       
    .line 0x00feefee
    ret       

  IL_0002:
    // {InstructionSequence 2 Original, Range=11-1c }
    .line 85,85 : 17,248
    ldstr       "NSTM transaction to be removed is not the current transaction! Check for overlapping transaction Commit()/Abort(). Recommendation: Create transactions within the scope of a using() statement."
    newobj     instance void [mscorlib]System.InvalidOperationException::.ctor(string)
    throw     
  }
  // End of method: NSTM.Infrastructure.ThreadTransactionStack/Remove(NSTM.NstmTransaction tx) : void

  .method public hidebysig specialname instance int32
          get_Count() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-c

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-c }
    .line 93,93 : 17,43  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\ThreadTransactionStack.cs'
    ldarg.0   
    ldfld      class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction> NSTM.Infrastructure.ThreadTransactionStack::txStack
    callvirt   instance int32 class [mscorlib]System.Collections.Generic.List`1<class NSTM.NstmTransaction>::get_Count()
    ret       
  }
  // End of method: NSTM.Infrastructure.ThreadTransactionStack/get_Count() : int32

  .property instance int32 Count()
  {
    .get instance int32 NSTM.Infrastructure.ThreadTransactionStack::get_Count()
  }

}
// End of type: NSTM.Infrastructure.ThreadTransactionStack


.class public auto ansi serializable beforefieldinit NSTM.NstmAtomicAttribute
      extends [PostSharp.Laos]PostSharp.Laos.OnMethodBoundaryAspect
{
  .custom instance void [mscorlib]System.AttributeUsageAttribute::.ctor(valuetype [mscorlib]System.AttributeTargets) = (  01 00 E0 00 00 00 00 00)
  .field private valuetype NSTM.NstmTransactionScopeOption transactionScope

  .field private valuetype NSTM.NstmTransactionIsolationLevel isolationLevel

  .field private valuetype NSTM.NstmTransactionCloneMode cloneMode

  .method public hidebysig specialname rtspecialname
          instance void .ctor() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-1c

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-1c }
    .line 26,26 : 9,37  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmAtomicAttribute.cs'
    ldarg.0   
    call       instance void [PostSharp.Laos]PostSharp.Laos.OnMethodBoundaryAspect::.ctor()
    .line 28,28 : 13,73
    ldarg.0   
    ldc.i4.0  
    stfld      valuetype NSTM.NstmTransactionScopeOption NSTM.NstmAtomicAttribute::transactionScope
    .line 29,29 : 13,78
    ldarg.0   
    ldc.i4.1  
    stfld      valuetype NSTM.NstmTransactionIsolationLevel NSTM.NstmAtomicAttribute::isolationLevel
    .line 30,30 : 13,67
    ldarg.0   
    ldc.i4.1  
    stfld      valuetype NSTM.NstmTransactionCloneMode NSTM.NstmAtomicAttribute::cloneMode
    .line 31,31 : 9,10
    ret       
  }
  // End of method: NSTM.NstmAtomicAttribute/.ctor() : void

  .method public hidebysig specialname rtspecialname
          instance void .ctor(valuetype NSTM.NstmTransactionIsolationLevel isolationLevel) cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-e

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-e }
    .line 33,33 : 9,81  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmAtomicAttribute.cs'
    ldarg.0   
    call       instance void [PostSharp.Laos]PostSharp.Laos.OnMethodBoundaryAspect::.ctor()
    .line 35,35 : 13,50
    ldarg.0   
    ldarg.1   
    stfld      valuetype NSTM.NstmTransactionIsolationLevel NSTM.NstmAtomicAttribute::isolationLevel
    .line 36,36 : 9,10
    ret       
  }
  // End of method: NSTM.NstmAtomicAttribute/.ctor(NSTM.NstmTransactionIsolationLevel isolationLevel) : void

  .method public hidebysig specialname rtspecialname
          instance void .ctor(valuetype NSTM.NstmTransactionScopeOption transactionScope,
                              valuetype NSTM.NstmTransactionIsolationLevel isolationLevel,
                              valuetype NSTM.NstmTransactionCloneMode cloneMode) cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-1c

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-1c }
    .line 38,40 : 9,71  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmAtomicAttribute.cs'
    ldarg.0   
    call       instance void [PostSharp.Laos]PostSharp.Laos.OnMethodBoundaryAspect::.ctor()
    .line 42,42 : 13,54
    ldarg.0   
    ldarg.1   
    stfld      valuetype NSTM.NstmTransactionScopeOption NSTM.NstmAtomicAttribute::transactionScope
    .line 43,43 : 13,50
    ldarg.0   
    ldarg.2   
    stfld      valuetype NSTM.NstmTransactionIsolationLevel NSTM.NstmAtomicAttribute::isolationLevel
    .line 44,44 : 13,40
    ldarg.0   
    ldarg.3   
    stfld      valuetype NSTM.NstmTransactionCloneMode NSTM.NstmAtomicAttribute::cloneMode
    .line 45,45 : 9,10
    ret       
  }
  // End of method: NSTM.NstmAtomicAttribute/.ctor(NSTM.NstmTransactionScopeOption transactionScope, NSTM.NstmTransactionIsolationLevel isolationLevel, NSTM.NstmTransactionCloneMode cloneMode) : void

  .method public hidebysig virtual instance void
          OnEntry(class [PostSharp.Laos]PostSharp.Laos.MethodExecutionEventArgs eventArgs) cil managed
  {
    .maxstack 4
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 1 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-27
      .locals init ( [0]  bool createdNewTx)

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-27 }
      .line 52,55 : 13,59  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmAtomicAttribute.cs'
      ldarg.0   
      ldfld      valuetype NSTM.NstmTransactionScopeOption NSTM.NstmAtomicAttribute::transactionScope
      ldarg.0   
      ldfld      valuetype NSTM.NstmTransactionIsolationLevel NSTM.NstmAtomicAttribute::isolationLevel
      ldarg.0   
      ldfld      valuetype NSTM.NstmTransactionCloneMode NSTM.NstmAtomicAttribute::cloneMode
      ldloca.s   createdNewTx
      call       class NSTM.INstmTransaction NSTM.NstmMemory::BeginTransaction(valuetype NSTM.NstmTransactionScopeOption,
                                                                               valuetype NSTM.NstmTransactionIsolationLevel,
                                                                               valuetype NSTM.NstmTransactionCloneMode,
                                                                               bool&)
      pop       
      .line 57,57 : 13,50
      ldarg.1   
      ldloc.0   
      box        [mscorlib]System.Boolean
      callvirt   instance void [PostSharp.Laos]PostSharp.Laos.InstanceBoundLaosEventArgs::set_InstanceTag(object)
      .line 58,58 : 9,10
      ret       
    }
  }
  // End of method: NSTM.NstmAtomicAttribute/OnEntry([PostSharp.Laos]PostSharp.Laos.MethodExecutionEventArgs eventArgs) : void

  .method public hidebysig virtual instance void
          OnExit(class [PostSharp.Laos]PostSharp.Laos.MethodExecutionEventArgs eventArgs) cil managed
  {
    .maxstack 1
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 1 local(s), 0 handler(s), 0 child(ren), 5 sequence(s), 0-2d
      .locals init ( [0]  bool createdNewTx)

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-f }
      .line 63,63 : 13,61  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmAtomicAttribute.cs'
      ldarg.1   
      callvirt   instance object [PostSharp.Laos]PostSharp.Laos.InstanceBoundLaosEventArgs::get_InstanceTag()
      unbox.any  [mscorlib]System.Boolean
      stloc.0   
      .line 65,65 : 13,30
      ldloc.0   
      brfalse.s  IL_0004

    IL_0001:
      // {InstructionSequence 1 Original, Range=f-17 }
      .line 66,66 : 17,49
      ldarg.1   
      callvirt   instance class [mscorlib]System.Exception [PostSharp.Laos]PostSharp.Laos.MethodExecutionEventArgs::get_Exception()
      brtrue.s   IL_0003

    IL_0002:
      // {InstructionSequence 2 Original, Range=17-22 }
      .line 67,67 : 21,49
      call       class NSTM.INstmTransaction NSTM.NstmMemory::get_Current()
      callvirt   instance void NSTM.INstmTransaction::Commit()
      .line 0x00feefee
      ret       

    IL_0003:
      // {InstructionSequence 3 Original, Range=22-2c }
      .line 69,69 : 21,51
      call       class NSTM.INstmTransaction NSTM.NstmMemory::get_Current()
      callvirt   instance void NSTM.INstmTransaction::Rollback()

    IL_0004:
      // {InstructionSequence 4 Original, Range=2c-2d }
      .line 70,70 : 9,10
      ret       
    }
  }
  // End of method: NSTM.NstmAtomicAttribute/OnExit([PostSharp.Laos]PostSharp.Laos.MethodExecutionEventArgs eventArgs) : void

}
// End of type: NSTM.NstmAtomicAttribute


.class public auto ansi serializable beforefieldinit NSTM.NstmTransactionalAttribute
      extends [PostSharp.Laos]PostSharp.Laos.CompoundAspect
{
  .custom instance void [PostSharp.Public]PostSharp.Extensibility.MulticastAttributeUsageAttribute::.ctor(valuetype [PostSharp.Public]PostSharp.Extensibility.MulticastTargets) = (  01 00 01 00 00 00 00 00)
  .custom instance void [mscorlib]System.AttributeUsageAttribute::.ctor(valuetype [mscorlib]System.AttributeTargets) = (  01 00 04 00 00 00 00 00)
  .method public hidebysig virtual instance void
          ProvideAspects(object element,
                         class [PostSharp.Laos]PostSharp.Laos.LaosReflectionAspectCollection collection) cil managed
  {
    .maxstack 3
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 4 local(s), 0 handler(s), 3 child(ren), 0 sequence(s), 0-4a
      .locals init ( [0]  class [mscorlib]System.Type targettype,
                     [1]  class NSTM.NstmTransactionalAspect txa,
                     [3]  class [mscorlib]System.Reflection.FieldInfo[] CS$6$0000,
                     [4]  int32 CS$7$0001)
      // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-19

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-19 }
      .line 17,17 : 13,45  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmTransactionalAttribute.cs'
      ldarg.1   
      castclass  [mscorlib]System.Type
      stloc.0   
      .line 19,19 : 13,75
      ldarg.2   
      ldloc.0   
      newobj     instance void NSTM.NstmVersionableAspect::.ctor()
      callvirt   instance void [PostSharp.Laos]PostSharp.Laos.LaosReflectionAspectCollection::AddAspect(class [mscorlib]System.Type,
                                                                                                        class [PostSharp.Laos]PostSharp.Laos.ILaosTypeLevelAspect)
      .line 21,21 : 13,73
      newobj     instance void NSTM.NstmTransactionalAspect::.ctor()
      stloc.1   
      {
        // InstructionBlock 2 [], 1 local(s), 0 handler(s), 0 child(ren), 5 sequence(s), 19-49
        .locals init ( [2]  class [mscorlib]System.Reflection.FieldInfo fi)

      IL_0001:
        // {InstructionSequence 1 Original, Range=19-27 }
        .line 25,25 : 56,200
        ldloc.0   
        ldc.i4.s   52
        callvirt   instance class [mscorlib]System.Reflection.FieldInfo[] [mscorlib]System.Type::GetFields(valuetype [mscorlib]System.Reflection.BindingFlags)
        stloc.3   
        .line 0x00feefee
        ldc.i4.0  
        stloc.s    CS$7$0001
        br.s       IL_0005

      IL_0002:
        // {InstructionSequence 2 Original, Range=27-34 }
        .line 25,25 : 22,52
        ldloc.3   
        ldloc.s    CS$7$0001
        ldelem.ref
        stloc.2   
        .line 29,29 : 17,34
        ldloc.2   
        callvirt   instance bool [mscorlib]System.Reflection.FieldInfo::get_IsStatic()
        brtrue.s   IL_0004

      IL_0003:
        // {InstructionSequence 3 Original, Range=34-3c }
        .line 30,30 : 21,51
        ldarg.2   
        ldloc.2   
        ldloc.1   
        callvirt   instance void [PostSharp.Laos]PostSharp.Laos.LaosReflectionAspectCollection::AddAspect(class [mscorlib]System.Reflection.FieldInfo,
                                                                                                          class [PostSharp.Laos]PostSharp.Laos.ILaosFieldLevelAspect)

      IL_0004:
        // {InstructionSequence 4 Original, Range=3c-42 }
        .line 0x00feefee
        ldloc.s    CS$7$0001
        ldc.i4.1  
        add       
        stloc.s    CS$7$0001

      IL_0005:
        // {InstructionSequence 5 Original, Range=42-49 }
        .line 25,25 : 53,55
        ldloc.s    CS$7$0001
        ldloc.3   
        ldlen     
        conv.i4   
        blt.s      IL_0002
      }
      // InstructionBlock 3 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 49-4a

    IL_0006:
      // {InstructionSequence 6 Original, Range=49-4a }
      .line 33,33 : 9,10
      ret       
    }
  }
  // End of method: NSTM.NstmTransactionalAttribute/ProvideAspects(object element, [PostSharp.Laos]PostSharp.Laos.LaosReflectionAspectCollection collection) : void

  .method public hidebysig specialname rtspecialname
          instance void .ctor() cil managed
  {
    .maxstack 8
    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-7

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-7 }
    ldarg.0   
    call       instance void [PostSharp.Laos]PostSharp.Laos.CompoundAspect::.ctor()
    ret       
  }
  // End of method: NSTM.NstmTransactionalAttribute/.ctor() : void

}
// End of type: NSTM.NstmTransactionalAttribute


.class public auto ansi NSTM.NstmTransactional`1<T>
      extends [mscorlib]System.Object
      implements NSTM.INstmVersioned
{
  .field private !T  'value'

  .field private class NSTM.INstmVersioned  '~composed~2'

  .field private initonly valuetype [PostSharp.Laos]PostSharp.Laos.InstanceCredentials instanceCredentials

  .method private hidebysig specialname rtspecialname static
          void .cctor() cil managed
  {
    .maxstack 4
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 3 [New Root Block], 0 local(s), 0 handler(s), 3 child(ren), 0 sequence(s), 0-0
      {
        // InstructionBlock 2 [Initial Symbol Sequence Point Block], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

      IL_0004:
        // {InstructionSequence 4 Modified, Comment="Initial Symbol Sequence Point Sequence"}
        .line 18,18 : 11,12  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmTransactional Of T.cs'
        nop       
      }
      {
        // InstructionBlock 4 [Entry Block], 0 local(s), 0 handler(s), 0 child(ren), 0 sequence(s), 0-0
      }
      // InstructionBlock 5 [], 0 local(s), 0 handler(s), 2 child(ren), 0 sequence(s), 0-0
      // InstructionBlock 6 [], 0 local(s), 0 handler(s), 0 child(ren), 2 sequence(s), 0-0

    IL_0007:
      // {InstructionSequence 7 Modified, Comment=""}
      ldsfld     bool '~PostSharp~Laos~Implementation'::initialized
      brtrue.s   IL_0006
      call       void [PostSharp.Laos]PostSharp.Laos.LaosNotInitializedException::Throw()

    IL_0006:
      // {InstructionSequence 6 Modified, Comment=""}
      ldstr       "NSTM.NstmTransactional`1"
      call       class [mscorlib]System.Type [mscorlib]System.Type::GetType(string)
      stsfld     class [mscorlib]System.Type '~PostSharp~Laos~Implementation':: '~targetType~2'
      ldsfld     class NSTM.NstmVersionableAspect '~PostSharp~Laos~Implementation':: '~aspect~2'
      ldsfld     class [mscorlib]System.Type '~PostSharp~Laos~Implementation':: '~targetType~2'
      callvirt   instance void [PostSharp.Laos]PostSharp.Laos.ILaosTypeLevelAspect::RuntimeInitialize(class [mscorlib]System.Type)
      ldstr       "NSTM.NstmTransactional`1"
      call       class [mscorlib]System.Type [mscorlib]System.Type::GetType(string)
      ldstr       "value"
      ldc.i4     0x3c
      callvirt   instance class [mscorlib]System.Reflection.FieldInfo [mscorlib]System.Type::GetField(string,
                                                                                                      valuetype [mscorlib]System.Reflection.BindingFlags)
      stsfld     class [mscorlib]System.Reflection.FieldInfo '~PostSharp~Laos~Implementation':: '~targetField~3'
      ldsfld     class NSTM.NstmTransactionalAspect '~PostSharp~Laos~Implementation':: '~aspect~3'
      ldsfld     class [mscorlib]System.Reflection.FieldInfo '~PostSharp~Laos~Implementation':: '~targetField~3'
      callvirt   instance void [PostSharp.Laos]PostSharp.Laos.LaosFieldLevelAspect::RuntimeInitialize(class [mscorlib]System.Reflection.FieldInfo)
      {
        // InstructionBlock 0 [Old Root Block], 0 local(s), 0 handler(s), 0 child(ren), 4 sequence(s), 0-47

      IL_0000:
        // {InstructionSequence 0 Original, Range=0-11 }
        .line 18,18 : 13,73
        ldtoken    !T
        call       class [mscorlib]System.Type [mscorlib]System.Type::GetTypeFromHandle(valuetype [mscorlib]System.RuntimeTypeHandle)
        call       instance bool [mscorlib]System.Type::get_IsValueType()
        brtrue.s   IL_0003

      IL_0001:
        // {InstructionSequence 1 Original, Range=11-27 }
        ldtoken    !T
        call       class [mscorlib]System.Type [mscorlib]System.Type::GetTypeFromHandle(valuetype [mscorlib]System.RuntimeTypeHandle)
        ldtoken    [mscorlib]System.String
        call       class [mscorlib]System.Type [mscorlib]System.Type::GetTypeFromHandle(valuetype [mscorlib]System.RuntimeTypeHandle)
        beq.s      IL_0003

      IL_0002:
        // {InstructionSequence 2 Original, Range=27-46 }
        .line 19,19 : 17,197
        ldstr       "Invalid type parameter! Cannot create NstmTransactional<T> for type {0}. It is neither a value type, nor a string."
        ldtoken    !T
        call       class [mscorlib]System.Type [mscorlib]System.Type::GetTypeFromHandle(valuetype [mscorlib]System.RuntimeTypeHandle)
        callvirt   instance string [mscorlib]System.Reflection.MemberInfo::get_Name()
        call       string [mscorlib]System.String::Format(string,
                                                          object)
        newobj     instance void [mscorlib]System.InvalidCastException::.ctor(string)
        throw     

      IL_0003:
        // {InstructionSequence 3 Original, Range=46-47 }
        .line 20,20 : 9,10
        ret       
      }
    }
  }
  // End of method: NSTM.NstmTransactional`1/.cctor() : void

  .method public hidebysig specialname rtspecialname
          instance void .ctor(!T  'value') cil managed
  {
    .maxstack 3
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 4 [New Root Block], 0 local(s), 0 handler(s), 5 child(ren), 0 sequence(s), 0-0
      {
        // InstructionBlock 3 [Initial Symbol Sequence Point Block], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

      IL_0002:
        // {InstructionSequence 2 Modified, Comment="Initial Symbol Sequence Point Sequence"}
        .line 23,23 : 7,8  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmTransactional Of T.cs'
        nop       
      }
      {
        // InstructionBlock 5 [Entry Block], 0 local(s), 0 handler(s), 0 child(ren), 0 sequence(s), 0-0
      }
      {
        // InstructionBlock 2 [Initialization Block], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

      IL_0000:
        // {InstructionSequence 0 Original, Range=0-6 }
        .line 23,23 : 9,42
        ldarg.0   
        call       instance void [mscorlib]System.Object::.ctor()
      }
      {
        // InstructionBlock 6 [After Initialization Block], 0 local(s), 0 handler(s), 0 child(ren), 0 sequence(s), 0-0
      }
      // InstructionBlock 7 [], 0 local(s), 0 handler(s), 4 child(ren), 0 sequence(s), 0-0
      // InstructionBlock 8 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

    IL_0004:
      // {InstructionSequence 4 Modified, Comment=""}
      ldarg.0   
      ldsfld     class NSTM.NstmVersionableAspect '~PostSharp~Laos~Implementation':: '~aspect~2'
      ldarg.0   
      newobj     instance void [PostSharp.Laos]PostSharp.Laos.InstanceBoundLaosEventArgs::.ctor(object)
      callvirt   instance object [PostSharp.Laos]PostSharp.Laos.ICompositionAspect::CreateImplementationObject(class [PostSharp.Laos]PostSharp.Laos.InstanceBoundLaosEventArgs)
      castclass  NSTM.INstmVersioned
      stfld      class NSTM.INstmVersioned class NSTM.NstmTransactional`1<!T>:: '~composed~2'
      {
        // InstructionBlock 9 [Before instruction {Stfld NSTM.NstmTransactional`1<!0>/value : !0}.], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

      IL_0005:
        // {InstructionSequence 5 Original, Range=6-8 }
        .line 26,26 : 13,32
        ldarg.0   
        ldarg.1   
      }
      {
        // InstructionBlock 11 [Advice: PostSharp.CodeWeaver.Weaver+FieldLevelAdvice on JoinPoint {InsteadOfSetField} at {Stfld NSTM.NstmTransactional`1<!0>/value : !0}], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

      IL_0007:
        // {InstructionSequence 7 Modified, Comment=""}
        call       instance void class NSTM.NstmTransactional`1<!T>::'~set~value'(!0)
      }
      {
        // InstructionBlock 10 [After instruction {Stfld NSTM.NstmTransactional`1<!0>/value : !0}.], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

      IL_0006:
        // {InstructionSequence 6 Original, Range=d-e }
        .line 27,27 : 9,10
        ret       
      }
    }
  }
  // End of method: NSTM.NstmTransactional`1/.ctor(!0 value) : void

  .method public hidebysig specialname instance !T
          get_Value() cil managed
  {
    .maxstack 1
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 3 child(ren), 0 sequence(s), 0-7
    {
      // InstructionBlock 1 [Before instruction {Ldfld NSTM.NstmTransactional`1<!0>/value : !0}.], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

    IL_0001:
      // {InstructionSequence 1 Original, Range=0-1 }
      .line 34,34 : 17,35  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmTransactional Of T.cs'
      ldarg.0   
    }
    {
      // InstructionBlock 3 [Advice: PostSharp.CodeWeaver.Weaver+FieldLevelAdvice on JoinPoint {InsteadOfGetField} at {Ldfld NSTM.NstmTransactional`1<!0>/value : !0}], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

    IL_0003:
      // {InstructionSequence 3 Modified, Comment=""}
      call       instance !0 class NSTM.NstmTransactional`1<!T>::'~get~value'()
    }
    {
      // InstructionBlock 2 [After instruction {Ldfld NSTM.NstmTransactional`1<!0>/value : !0}.], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

    IL_0002:
      // {InstructionSequence 2 Original, Range=6-7 }
      ret       
    }
  }
  // End of method: NSTM.NstmTransactional`1/get_Value() : !0

  .method public hidebysig specialname instance void
          set_Value(!T  'value') cil managed
  {
    .maxstack 2
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 3 child(ren), 0 sequence(s), 0-8
    {
      // InstructionBlock 1 [Before instruction {Stfld NSTM.NstmTransactional`1<!0>/value : !0}.], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

    IL_0001:
      // {InstructionSequence 1 Original, Range=0-2 }
      .line 39,39 : 17,36  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmTransactional Of T.cs'
      ldarg.0   
      ldarg.1   
    }
    {
      // InstructionBlock 3 [Advice: PostSharp.CodeWeaver.Weaver+FieldLevelAdvice on JoinPoint {InsteadOfSetField} at {Stfld NSTM.NstmTransactional`1<!0>/value : !0}], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

    IL_0003:
      // {InstructionSequence 3 Modified, Comment=""}
      call       instance void class NSTM.NstmTransactional`1<!T>::'~set~value'(!0)
    }
    {
      // InstructionBlock 2 [After instruction {Stfld NSTM.NstmTransactional`1<!0>/value : !0}.], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

    IL_0002:
      // {InstructionSequence 2 Original, Range=7-8 }
      .line 40,40 : 13,14
      ret       
    }
  }
  // End of method: NSTM.NstmTransactional`1/set_Value(!0 value) : void

  .method public hidebysig specialname static
          !T op_Implicit(class NSTM.NstmTransactional`1<!T>  'instance') cil managed
  {
    .maxstack 1
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 3 child(ren), 0 sequence(s), 0-7
    {
      // InstructionBlock 1 [Before instruction {Ldfld NSTM.NstmTransactional`1<!0>/value : !0}.], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

    IL_0001:
      // {InstructionSequence 1 Original, Range=0-1 }
      .line 46,46 : 13,35  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmTransactional Of T.cs'
      ldarg.0   
    }
    {
      // InstructionBlock 3 [Advice: PostSharp.CodeWeaver.Weaver+FieldLevelAdvice on JoinPoint {InsteadOfGetField} at {Ldfld NSTM.NstmTransactional`1<!0>/value : !0}], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

    IL_0003:
      // {InstructionSequence 3 Modified, Comment=""}
      call       instance !0 class NSTM.NstmTransactional`1<!T>::'~get~value'()
    }
    {
      // InstructionBlock 2 [After instruction {Ldfld NSTM.NstmTransactional`1<!0>/value : !0}.], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

    IL_0002:
      // {InstructionSequence 2 Original, Range=6-7 }
      ret       
    }
  }
  // End of method: NSTM.NstmTransactional`1/op_Implicit(NSTM.NstmTransactional`1<!0> instance) : !0

  .method public hidebysig specialname static
          class NSTM.NstmTransactional`1<!T>
          op_Implicit(!T  'value') cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-7

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-7 }
    .line 51,51 : 13,52  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmTransactional Of T.cs'
    ldarg.0   
    newobj     instance void class NSTM.NstmTransactional`1<!T>::.ctor(!0)
    ret       
  }
  // End of method: NSTM.NstmTransactional`1/op_Implicit(!0 value) : NSTM.NstmTransactional`1<!0>

  .method private hidebysig newslot virtual final
          int64 NSTM.NstmTransactional`1.get_Version() cil managed
  {
    .override NSTM.INstmVersioned::get_Version
    .maxstack 1
    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

  IL_0000:
    // {InstructionSequence 0 Modified, Comment=""}
    ldarg.0   
    ldfld      class NSTM.INstmVersioned class NSTM.NstmTransactional`1<!T>:: '~composed~2'
    tail.
    callvirt   instance int64 NSTM.INstmVersioned::get_Version()
    ret       
  }
  // End of method: NSTM.NstmTransactional`1/NSTM.NstmTransactional`1.get_Version() : int64

  .method private hidebysig newslot virtual final
          void NSTM.NstmTransactional`1.IncrementVersion() cil managed
  {
    .override NSTM.INstmVersioned::IncrementVersion
    .maxstack 1
    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

  IL_0000:
    // {InstructionSequence 0 Modified, Comment=""}
    ldarg.0   
    ldfld      class NSTM.INstmVersioned class NSTM.NstmTransactional`1<!T>:: '~composed~2'
    tail.
    callvirt   instance void NSTM.INstmVersioned::IncrementVersion()
    ret       
  }
  // End of method: NSTM.NstmTransactional`1/NSTM.NstmTransactional`1.IncrementVersion() : void

  .method private hidebysig instance !T  '~get~value'() cil managed
  {
    .custom instance void [mscorlib]System.Diagnostics.DebuggerNonUserCodeAttribute::.ctor()
      = {}
    .maxstack 4
    {
      // InstructionBlock 0 [], 2 local(s), 0 handler(s), 3 child(ren), 0 sequence(s), 0-0
      .locals init ( [0]  !T fieldValue,
                     [2]  !T  '~emptyValue~2')
      // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

    IL_0000:
      // {InstructionSequence 0 Modified, Comment=""}
      ldarg.0   
      ldfld      !0 class NSTM.NstmTransactional`1<!T>:: 'value'
      stloc      fieldValue
      {
        // InstructionBlock 2 [Advice: PostSharp.Laos.Weaver.OnFieldAccessAspectWeaver on JoinPoint {InsteadOfGetField} at {}], 1 local(s), 0 handler(s), 0 child(ren), 3 sequence(s), 0-0
        .locals init ( [1]  class [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs  '~laosEventArgs~1')

      IL_0002:
        // {InstructionSequence 2 Modified, Comment=""}
        ldnull    
        ldloc      fieldValue
        box        !T
        ldtoken    field !0 class NSTM.NstmTransactional`1<!T>:: 'value'
        ldtoken    class NSTM.NstmTransactional`1<!T>
        call       class [mscorlib]System.Reflection.FieldInfo [mscorlib]System.Reflection.FieldInfo::GetFieldFromHandle(valuetype [mscorlib]System.RuntimeFieldHandle,
                                                                                                                         valuetype [mscorlib]System.RuntimeTypeHandle)
        ldarg.0   
        newobj     instance void [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs::.ctor(object,
                                                                                            object,
                                                                                            class [mscorlib]System.Reflection.FieldInfo,
                                                                                            object)
        stloc       '~laosEventArgs~1'
        ldloc       '~laosEventArgs~1'
        ldarg.0   
        call       instance valuetype [PostSharp.Laos]PostSharp.Laos.InstanceCredentials class NSTM.NstmTransactional`1<!T>::GetInstanceCredentials()
        call       instance void [PostSharp.Laos]PostSharp.Laos.InstanceBoundLaosEventArgs::set_InstanceCredentials(valuetype [PostSharp.Laos]PostSharp.Laos.InstanceCredentials)
        ldsfld     class NSTM.NstmTransactionalAspect '~PostSharp~Laos~Implementation':: '~aspect~3'
        ldloc       '~laosEventArgs~1'
        callvirt   instance void [PostSharp.Laos]PostSharp.Laos.IOnFieldAccessAspect::OnGetValue(class [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs)
        ldloc       '~laosEventArgs~1'
        call       instance object [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs::get_ExposedFieldValue()
        dup       
        brfalse.s  IL_0003
        unbox.any  !T
        stloc      fieldValue
        br.s       IL_0004

      IL_0003:
        // {InstructionSequence 3 Modified, Comment=""}
        pop       
        ldloca      '~emptyValue~2'
        initobj    !T
        ldloc       '~emptyValue~2'
        stloc      fieldValue

      IL_0004:
        // {InstructionSequence 4 Not Commited, Comment=""}
      }
      // InstructionBlock 3 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

    IL_0001:
      // {InstructionSequence 1 Modified, Comment=""}
      ldloc      fieldValue
      ret       
    }
  }
  // End of method: NSTM.NstmTransactional`1/~get~value() : !0

  .method family instance valuetype [PostSharp.Laos]PostSharp.Laos.InstanceCredentials
          GetInstanceCredentials() cil managed
  {
    .maxstack 1
    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

  IL_0000:
    // {InstructionSequence 0 Modified, Comment=""}
    ldarg.0   
    ldfld      valuetype [PostSharp.Laos]PostSharp.Laos.InstanceCredentials class NSTM.NstmTransactional`1<!T>::instanceCredentials
    ret       
  }
  // End of method: NSTM.NstmTransactional`1/GetInstanceCredentials() : [PostSharp.Laos]PostSharp.Laos.InstanceCredentials

  .method private hidebysig instance void
'~set~value'(!T  'value') cil managed
  {
    .custom instance void [mscorlib]System.Diagnostics.DebuggerNonUserCodeAttribute::.ctor()
      = {}
    .maxstack 4
    {
      // InstructionBlock 0 [], 1 local(s), 0 handler(s), 3 child(ren), 0 sequence(s), 0-0
      .locals init ( [0]  !T fieldValue)
      // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

    IL_0000:
      // {InstructionSequence 0 Modified, Comment=""}
      ldarg.0   
      ldfld      !0 class NSTM.NstmTransactional`1<!T>:: 'value'
      stloc      fieldValue
      {
        // InstructionBlock 2 [Advice: PostSharp.Laos.Weaver.OnFieldAccessAspectWeaver on JoinPoint {InsteadOfSetField} at {}], 1 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0
        .locals init ( [1]  class [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs  '~laosEventArgs~1')

      IL_0002:
        // {InstructionSequence 2 Modified, Comment=""}
        ldarg.1   
        box        !T
        ldloc      fieldValue
        box        !T
        ldtoken    field !0 class NSTM.NstmTransactional`1<!T>:: 'value'
        ldtoken    class NSTM.NstmTransactional`1<!T>
        call       class [mscorlib]System.Reflection.FieldInfo [mscorlib]System.Reflection.FieldInfo::GetFieldFromHandle(valuetype [mscorlib]System.RuntimeFieldHandle,
                                                                                                                         valuetype [mscorlib]System.RuntimeTypeHandle)
        ldarg.0   
        newobj     instance void [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs::.ctor(object,
                                                                                            object,
                                                                                            class [mscorlib]System.Reflection.FieldInfo,
                                                                                            object)
        stloc       '~laosEventArgs~1'
        ldloc       '~laosEventArgs~1'
        ldarg.0   
        call       instance valuetype [PostSharp.Laos]PostSharp.Laos.InstanceCredentials class NSTM.NstmTransactional`1<!T>::GetInstanceCredentials()
        call       instance void [PostSharp.Laos]PostSharp.Laos.InstanceBoundLaosEventArgs::set_InstanceCredentials(valuetype [PostSharp.Laos]PostSharp.Laos.InstanceCredentials)
        ldsfld     class NSTM.NstmTransactionalAspect '~PostSharp~Laos~Implementation':: '~aspect~3'
        ldloc       '~laosEventArgs~1'
        callvirt   instance void [PostSharp.Laos]PostSharp.Laos.IOnFieldAccessAspect::OnSetValue(class [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs)
        ldloc       '~laosEventArgs~1'
        call       instance object [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs::get_StoredFieldValue()
        unbox.any  !T
        stloc      fieldValue
      }
      // InstructionBlock 3 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0

    IL_0001:
      // {InstructionSequence 1 Modified, Comment=""}
      ldarg.0   
      ldloc      fieldValue
      stfld      !0 class NSTM.NstmTransactional`1<!T>:: 'value'
      ret       
    }
  }
  // End of method: NSTM.NstmTransactional`1/~set~value(!0 value) : void

  .property instance !T Value()
  {
    .set instance void NSTM.NstmTransactional`1::set_Value(!T)
    .get instance !T NSTM.NstmTransactional`1::get_Value()
  }

}
// End of type: NSTM.NstmTransactional`1


.class private auto ansi serializable beforefieldinit NSTM.NstmTransactionalAspect
      extends [PostSharp.Laos]PostSharp.Laos.OnFieldAccessAspect
{
  .method public hidebysig virtual instance void
          OnGetValue(class [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs eventArgs) cil managed
  {
    .maxstack 5
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 1 local(s), 0 handler(s), 0 child(ren), 3 sequence(s), 0-3e
      .locals init ( [0]  class NSTM.NstmTransaction tx)

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-e }
      .line 14,14 : 13,70  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransactionalAspect.cs'
      call       class NSTM.INstmTransaction NSTM.NstmMemory::get_Current()
      castclass  NSTM.NstmTransaction
      stloc.0   
      .line 15,15 : 13,28
      ldloc.0   
      brfalse.s  IL_0002

    IL_0001:
      // {InstructionSequence 1 Original, Range=e-36 }
      .line 16,16 : 17,147
      ldarg.1   
      ldloc.0   
      ldarg.1   
      callvirt   instance object [PostSharp.Laos]PostSharp.Laos.InstanceBoundLaosEventArgs::get_Instance()
      castclass  NSTM.INstmVersioned
      ldarg.1   
      callvirt   instance class [mscorlib]System.Reflection.FieldInfo [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs::get_FieldInfo()
      callvirt   instance string [mscorlib]System.Reflection.MemberInfo::get_Name()
      ldarg.1   
      callvirt   instance object [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs::get_StoredFieldValue()
      callvirt   instance object NSTM.NstmTransaction::LogRead(class NSTM.INstmVersioned,
                                                               string,
                                                               object)
      callvirt   instance void [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs::set_StoredFieldValue(object)

    IL_0002:
      // {InstructionSequence 2 Original, Range=36-3e }
      .line 18,18 : 13,40
      ldarg.0   
      ldarg.1   
      call       instance void [PostSharp.Laos]PostSharp.Laos.OnFieldAccessAspect::OnGetValue(class [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs)
      .line 19,19 : 9,10
      ret       
    }
  }
  // End of method: NSTM.NstmTransactionalAspect/OnGetValue([PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs eventArgs) : void

  .method public hidebysig virtual instance void
          OnSetValue(class [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs eventArgs) cil managed
  {
    .maxstack 4
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 3 local(s), 0 handler(s), 7 child(ren), 0 sequence(s), 0-92
      .locals init ( [0]  class NSTM.NstmTransaction tx,
                     [1]  object CS$2$0000,
                     [2]  object CS$2$0001)
      // InstructionBlock 6 [], 0 local(s), 0 handler(s), 0 child(ren), 2 sequence(s), 0-1b

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-e }
      .line 23,23 : 13,70  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransactionalAspect.cs'
      call       class NSTM.INstmTransaction NSTM.NstmMemory::get_Current()
      castclass  NSTM.NstmTransaction
      stloc.0   
      .line 24,24 : 13,28
      ldloc.0   
      brfalse.s  IL_0004

    IL_0001:
      // {InstructionSequence 1 Original, Range=e-1b }
      .line 26,26 : 17,42
      ldarg.1   
      callvirt   instance object [PostSharp.Laos]PostSharp.Laos.InstanceBoundLaosEventArgs::get_Instance()
      dup       
      stloc.1   
      call       void [mscorlib]System.Threading.Monitor::Enter(object)
      .try
      {
        // InstructionBlock 7 [], 0 local(s), 1 handler(s), 0 child(ren), 1 sequence(s), 1b-5d

      IL_0002:
        // {InstructionSequence 2 Original, Range=1b-5d }
        .line 28,28 : 21,124
        ldloc.0   
        ldarg.1   
        callvirt   instance object [PostSharp.Laos]PostSharp.Laos.InstanceBoundLaosEventArgs::get_Instance()
        castclass  NSTM.INstmVersioned
        ldarg.1   
        callvirt   instance class [mscorlib]System.Reflection.FieldInfo [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs::get_FieldInfo()
        callvirt   instance string [mscorlib]System.Reflection.MemberInfo::get_Name()
        ldarg.1   
        callvirt   instance object [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs::get_ExposedFieldValue()
        callvirt   instance void NSTM.NstmTransaction::LogWrite(class NSTM.INstmVersioned,
                                                                string,
                                                                object)
        .line 30,30 : 21,100
        ldarg.1   
        ldarg.1   
        callvirt   instance class [mscorlib]System.Reflection.FieldInfo [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs::get_FieldInfo()
        ldarg.1   
        callvirt   instance object [PostSharp.Laos]PostSharp.Laos.InstanceBoundLaosEventArgs::get_Instance()
        callvirt   instance object [mscorlib]System.Reflection.FieldInfo::GetValue(object)
        callvirt   instance void [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs::set_ExposedFieldValue(object)
        .line 31,31 : 21,48
        ldarg.0   
        ldarg.1   
        call       instance void [PostSharp.Laos]PostSharp.Laos.OnFieldAccessAspect::OnSetValue(class [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs)
        .line 0x00feefee
        leave.s    IL_0007
      }
      finally
      {
        // InstructionBlock 9 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 5d-64

      IL_0003:
        // {InstructionSequence 3 Original, Range=5d-64 }
        ldloc.1   
        call       void [mscorlib]System.Threading.Monitor::Exit(object)
        endfinally
      }
      // InstructionBlock 10 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 64-71

    IL_0004:
      // {InstructionSequence 4 Original, Range=64-71 }
      .line 35,35 : 17,42
      ldarg.1   
      callvirt   instance object [PostSharp.Laos]PostSharp.Laos.InstanceBoundLaosEventArgs::get_Instance()
      dup       
      stloc.2   
      call       void [mscorlib]System.Threading.Monitor::Enter(object)
      .try
      {
        // InstructionBlock 2 [], 0 local(s), 1 handler(s), 0 child(ren), 1 sequence(s), 71-8a

      IL_0005:
        // {InstructionSequence 5 Original, Range=71-8a }
        .line 37,37 : 21,77
        ldarg.1   
        callvirt   instance object [PostSharp.Laos]PostSharp.Laos.InstanceBoundLaosEventArgs::get_Instance()
        castclass  NSTM.INstmVersioned
        callvirt   instance void NSTM.INstmVersioned::IncrementVersion()
        .line 38,38 : 21,48
        ldarg.0   
        ldarg.1   
        call       instance void [PostSharp.Laos]PostSharp.Laos.OnFieldAccessAspect::OnSetValue(class [PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs)
        .line 0x00feefee
        leave.s    IL_0007
      }
      finally
      {
        // InstructionBlock 4 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 8a-91

      IL_0006:
        // {InstructionSequence 6 Original, Range=8a-91 }
        ldloc.2   
        call       void [mscorlib]System.Threading.Monitor::Exit(object)
        endfinally
      }
      // InstructionBlock 5 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 91-92

    IL_0007:
      // {InstructionSequence 7 Original, Range=91-92 }
      .line 40,40 : 9,10
      ret       
    }
  }
  // End of method: NSTM.NstmTransactionalAspect/OnSetValue([PostSharp.Laos]PostSharp.Laos.FieldAccessEventArgs eventArgs) : void

  .method public hidebysig specialname rtspecialname
          instance void .ctor() cil managed
  {
    .maxstack 8
    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-7

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-7 }
    ldarg.0   
    call       instance void [PostSharp.Laos]PostSharp.Laos.OnFieldAccessAspect::.ctor()
    ret       
  }
  // End of method: NSTM.NstmTransactionalAspect/.ctor() : void

}
// End of type: NSTM.NstmTransactionalAspect


.class interface public abstract auto ansi NSTM.INstmVersioned
{
  .method public hidebysig newslot specialname abstract virtual
          instance int64 get_Version() cil managed
  {
  }
  // End of method: NSTM.INstmVersioned/get_Version() : int64

  .method public hidebysig newslot abstract virtual
          instance void IncrementVersion() cil managed
  {
  }
  // End of method: NSTM.INstmVersioned/IncrementVersion() : void

  .property instance int64 Version()
  {
    .get instance int64 NSTM.INstmVersioned::get_Version()
  }

}
// End of type: NSTM.INstmVersioned


.class interface private abstract auto ansi NSTM.INstmObject
      implements NSTM.INstmVersioned
{
  .method public hidebysig newslot specialname abstract virtual
          instance object get_Value() cil managed
  {
  }
  // End of method: NSTM.INstmObject/get_Value() : object

  .method public hidebysig newslot specialname abstract virtual
          instance void set_Value(object  'value') cil managed
  {
  }
  // End of method: NSTM.INstmObject/set_Value(object value) : void

  .method public hidebysig newslot abstract virtual
          instance object CloneValue() cil managed
  {
  }
  // End of method: NSTM.INstmObject/CloneValue() : object

  .property instance object Value()
  {
    .get instance object NSTM.INstmObject::get_Value()
    .set instance void NSTM.INstmObject::set_Value(object)
  }

}
// End of type: NSTM.INstmObject


.class interface public abstract auto ansi NSTM.INstmObject`1<T>
{
  .method public hidebysig newslot specialname abstract virtual
          instance int64 get_Version() cil managed
  {
  }
  // End of method: NSTM.INstmObject`1/get_Version() : int64

  .method public hidebysig newslot abstract virtual
          instance !T Read() cil managed
  {
  }
  // End of method: NSTM.INstmObject`1/Read() : !0

  .method public hidebysig newslot abstract virtual
          instance !T Read(valuetype NSTM.NstmReadOption option) cil managed
  {
  }
  // End of method: NSTM.INstmObject`1/Read(NSTM.NstmReadOption option) : !0

  .method public hidebysig newslot abstract virtual
          instance void Write(!T  'value') cil managed
  {
  }
  // End of method: NSTM.INstmObject`1/Write(!0 value) : void

  .property instance int64 Version()
  {
    .get instance int64 NSTM.INstmObject`1::get_Version()
  }

}
// End of type: NSTM.INstmObject`1


.class private auto ansi NSTM.NstmObject`1<T>
      extends [mscorlib]System.Object
      implements class NSTM.INstmObject`1<!T>, 
                 NSTM.INstmObject, 
                 NSTM.INstmVersioned
{
  .field private int64 version

  .field private !T  'value'

  .method private hidebysig specialname rtspecialname static
          void .cctor() cil managed
  {
    .maxstack 2
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 2 local(s), 0 handler(s), 2 child(ren), 0 sequence(s), 0-78
      .locals init ( [1]  class [mscorlib]System.Type[] CS$6$0000,
                     [2]  int32 CS$7$0001)
      {
        // InstructionBlock 1 [], 1 local(s), 0 handler(s), 0 child(ren), 5 sequence(s), 0-31
        .locals init ( [0]  class [mscorlib]System.Type interfaceType)

      IL_0000:
        // {InstructionSequence 0 Original, Range=0-14 }
        .line 29,29 : 43,68  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmObject Of T.cs'
        ldtoken    !T
        call       class [mscorlib]System.Type [mscorlib]System.Type::GetTypeFromHandle(valuetype [mscorlib]System.RuntimeTypeHandle)
        callvirt   instance class [mscorlib]System.Type[] [mscorlib]System.Type::GetInterfaces()
        stloc.1   
        .line 0x00feefee
        ldc.i4.0  
        stloc.2   
        br.s       IL_0004

      IL_0001:
        // {InstructionSequence 1 Original, Range=14-25 }
        .line 29,29 : 21,39
        ldloc.1   
        ldloc.2   
        ldelem.ref
        stloc.0   
        .line 30,30 : 17,57
        ldloc.0   
        ldtoken    [mscorlib]System.ICloneable
        call       class [mscorlib]System.Type [mscorlib]System.Type::GetTypeFromHandle(valuetype [mscorlib]System.RuntimeTypeHandle)
        bne.un.s   IL_0003

      IL_0002:
        // {InstructionSequence 2 Original, Range=25-27 }
        .line 31,31 : 21,28
        leave.s    IL_0008

      IL_0003:
        // {InstructionSequence 3 Original, Range=27-2b }
        .line 0x00feefee
        ldloc.2   
        ldc.i4.1  
        add       
        stloc.2   

      IL_0004:
        // {InstructionSequence 4 Original, Range=2b-31 }
        .line 29,29 : 40,42
        ldloc.2   
        ldloc.1   
        ldlen     
        conv.i4   
        blt.s      IL_0001
      }
      // InstructionBlock 2 [], 0 local(s), 0 handler(s), 0 child(ren), 4 sequence(s), 31-78

    IL_0005:
      // {InstructionSequence 5 Original, Range=31-42 }
      .line 34,34 : 13,73
      ldtoken    !T
      call       class [mscorlib]System.Type [mscorlib]System.Type::GetTypeFromHandle(valuetype [mscorlib]System.RuntimeTypeHandle)
      call       instance bool [mscorlib]System.Type::get_IsValueType()
      brtrue.s   IL_0008

    IL_0006:
      // {InstructionSequence 6 Original, Range=42-58 }
      ldtoken    !T
      call       class [mscorlib]System.Type [mscorlib]System.Type::GetTypeFromHandle(valuetype [mscorlib]System.RuntimeTypeHandle)
      ldtoken    [mscorlib]System.String
      call       class [mscorlib]System.Type [mscorlib]System.Type::GetTypeFromHandle(valuetype [mscorlib]System.RuntimeTypeHandle)
      beq.s      IL_0008

    IL_0007:
      // {InstructionSequence 7 Original, Range=58-77 }
      .line 35,35 : 17,224
      ldstr       "Invalid type parameter! Cannot create NstmObject<T> for type {0}. It is neither a value type, nor a string, nor does it implement ICloneable."
      ldtoken    !T
      call       class [mscorlib]System.Type [mscorlib]System.Type::GetTypeFromHandle(valuetype [mscorlib]System.RuntimeTypeHandle)
      callvirt   instance string [mscorlib]System.Reflection.MemberInfo::get_Name()
      call       string [mscorlib]System.String::Format(string,
                                                        object)
      newobj     instance void [mscorlib]System.InvalidCastException::.ctor(string)
      throw     

    IL_0008:
      // {InstructionSequence 8 Original, Range=77-78 }
      .line 36,36 : 9,10
      ret       
    }
  }
  // End of method: NSTM.NstmObject`1/.cctor() : void

  .method assembly hidebysig specialname rtspecialname
          instance void .ctor() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-7

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-7 }
    .line 39,39 : 9,30  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmObject Of T.cs'
    ldarg.0   
    call       instance void [mscorlib]System.Object::.ctor()
    .line 39,39 : 32,33
    ret       
  }
  // End of method: NSTM.NstmObject`1/.ctor() : void

  .method assembly hidebysig specialname rtspecialname
          instance void .ctor(!T initialValue) cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-e

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-e }
    .line 41,41 : 9,44  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmObject Of T.cs'
    ldarg.0   
    call       instance void [mscorlib]System.Object::.ctor()
    .line 43,43 : 13,38
    ldarg.0   
    ldarg.1   
    call       instance void class NSTM.NstmObject`1<!T>::Write(!0)
    .line 44,44 : 9,10
    ret       
  }
  // End of method: NSTM.NstmObject`1/.ctor(!0 initialValue) : void

  .method public hidebysig newslot virtual final
          instance !T Read() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-8

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-8 }
    .line 51,51 : 13,56  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmObject Of T.cs'
    ldarg.0   
    ldc.i4.2  
    call       instance !0 class NSTM.NstmObject`1<!T>::Read(valuetype NSTM.NstmReadOption)
    ret       
  }
  // End of method: NSTM.NstmObject`1/Read() : !0

  .method public hidebysig newslot virtual final
          instance !T Read(valuetype NSTM.NstmReadOption option) cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-d

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-d }
    .line 56,56 : 13,58  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmObject Of T.cs'
    ldarg.0   
    ldarg.1   
    call       class NSTM.INstmTransaction NSTM.NstmMemory::get_Current()
    call       instance !0 class NSTM.NstmObject`1<!T>::Read(valuetype NSTM.NstmReadOption,
                                                             class NSTM.INstmTransaction)
    ret       
  }
  // End of method: NSTM.NstmObject`1/Read(NSTM.NstmReadOption option) : !0

  .method assembly hidebysig instance !T
          Read(valuetype NSTM.NstmReadOption option,
               class NSTM.INstmTransaction tx) cil managed
  {
    .maxstack 3
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 2 local(s), 0 handler(s), 4 child(ren), 0 sequence(s), 0-30
      .locals init ( [0]  !T CS$1$0000,
                     [1]  class NSTM.NstmObject`1<!T> CS$2$0001)
      // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 3 sequence(s), 0-1e

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-3 }
      .line 61,61 : 13,28  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmObject Of T.cs'
      ldarg.2   
      brfalse.s  IL_0002

    IL_0001:
      // {InstructionSequence 1 Original, Range=3-16 }
      .line 62,62 : 17,73
      ldarg.2   
      isinst     NSTM.NstmTransaction
      ldarg.0   
      ldarg.1   
      callvirt   instance object NSTM.NstmTransaction::LogRead(class NSTM.INstmObject,
                                                               valuetype NSTM.NstmReadOption)
      unbox.any  !T
      ret       

    IL_0002:
      // {InstructionSequence 2 Original, Range=16-1e }
      .line 64,64 : 17,28
      ldarg.0   
      dup       
      stloc.1   
      call       void [mscorlib]System.Threading.Monitor::Enter(object)
      .try
      {
        // InstructionBlock 2 [], 0 local(s), 1 handler(s), 0 child(ren), 1 sequence(s), 1e-27

      IL_0003:
        // {InstructionSequence 3 Original, Range=1e-27 }
        .line 66,66 : 21,39
        ldarg.0   
        ldfld      !0 class NSTM.NstmObject`1<!T>:: 'value'
        stloc.0   
        leave.s    IL_0005
      }
      finally
      {
        // InstructionBlock 4 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 27-2e

      IL_0004:
        // {InstructionSequence 4 Original, Range=27-2e }
        .line 0x00feefee
        ldloc.1   
        call       void [mscorlib]System.Threading.Monitor::Exit(object)
        endfinally
      }
      // InstructionBlock 5 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 2e-30

    IL_0005:
      // {InstructionSequence 5 Original, Range=2e-30 }
      .line 68,68 : 9,10
      ldloc.0   
      ret       
    }
  }
  // End of method: NSTM.NstmObject`1/Read(NSTM.NstmReadOption option, NSTM.INstmTransaction tx) : !0

  .method public hidebysig newslot virtual final
          instance void Write(!T  'value') cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-d

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-d }
    .line 73,73 : 13,51  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmObject Of T.cs'
    ldarg.0   
    ldarg.1   
    call       class NSTM.INstmTransaction NSTM.NstmMemory::get_Current()
    call       instance void class NSTM.NstmObject`1<!T>::Write(!0,
                                                                class NSTM.INstmTransaction)
    .line 74,74 : 9,10
    ret       
  }
  // End of method: NSTM.NstmObject`1/Write(!0 value) : void

  .method assembly hidebysig instance void
          Write(!T  'value',
                class NSTM.INstmTransaction tx) cil managed
  {
    .maxstack 3
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 1 local(s), 0 handler(s), 4 child(ren), 0 sequence(s), 0-3e
      .locals init ( [0]  class NSTM.NstmObject`1<!T> CS$2$0000)
      // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 3 sequence(s), 0-1e

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-3 }
      .line 78,78 : 13,28  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmObject Of T.cs'
      ldarg.2   
      brfalse.s  IL_0002

    IL_0001:
      // {InstructionSequence 1 Original, Range=3-16 }
      .line 79,79 : 17,63
      ldarg.2   
      isinst     NSTM.NstmTransaction
      ldarg.0   
      ldarg.1   
      box        !T
      callvirt   instance void NSTM.NstmTransaction::LogWrite(class NSTM.INstmObject,
                                                              object)
      .line 0x00feefee
      ret       

    IL_0002:
      // {InstructionSequence 2 Original, Range=16-1e }
      .line 82,82 : 17,28
      ldarg.0   
      dup       
      stloc.0   
      call       void [mscorlib]System.Threading.Monitor::Enter(object)
      .try
      {
        // InstructionBlock 2 [], 0 local(s), 1 handler(s), 0 child(ren), 1 sequence(s), 1e-36

      IL_0003:
        // {InstructionSequence 3 Original, Range=1e-36 }
        .line 84,84 : 21,40
        ldarg.0   
        ldarg.1   
        stfld      !0 class NSTM.NstmObject`1<!T>:: 'value'
        .line 85,85 : 21,36
        ldarg.0   
        dup       
        ldfld      int64 class NSTM.NstmObject`1<!T>::version
        ldc.i4.1  
        conv.i8   
        add       
        stfld      int64 class NSTM.NstmObject`1<!T>::version
        .line 0x00feefee
        leave.s    IL_0005
      }
      finally
      {
        // InstructionBlock 4 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 36-3d

      IL_0004:
        // {InstructionSequence 4 Original, Range=36-3d }
        ldloc.0   
        call       void [mscorlib]System.Threading.Monitor::Exit(object)
        endfinally
      }
      // InstructionBlock 5 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 3d-3e

    IL_0005:
      // {InstructionSequence 5 Original, Range=3d-3e }
      .line 88,88 : 9,10
      ret       
    }
  }
  // End of method: NSTM.NstmObject`1/Write(!0 value, NSTM.INstmTransaction tx) : void

  .method public hidebysig newslot specialname virtual final
          instance int64 get_Version() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-7

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-7 }
    .line 97,97 : 19,39  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmObject Of T.cs'
    ldarg.0   
    ldfld      int64 class NSTM.NstmObject`1<!T>::version
    ret       
  }
  // End of method: NSTM.NstmObject`1/get_Version() : int64

  .method private hidebysig newslot virtual final
          instance void NSTM.INstmVersioned.IncrementVersion() cil managed
  {
    .override NSTM.INstmVersioned::IncrementVersion
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-10

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-10 }
    .line 102,102 : 13,28  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmObject Of T.cs'
    ldarg.0   
    dup       
    ldfld      int64 class NSTM.NstmObject`1<!T>::version
    ldc.i4.1  
    conv.i8   
    add       
    stfld      int64 class NSTM.NstmObject`1<!T>::version
    .line 103,103 : 9,10
    ret       
  }
  // End of method: NSTM.NstmObject`1/NSTM.INstmVersioned.IncrementVersion() : void

  .method private hidebysig newslot specialname virtual final
          instance object NSTM.INstmObject.get_Value() cil managed
  {
    .override NSTM.INstmObject::get_Value
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-c

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-c }
    .line 107,107 : 19,37  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmObject Of T.cs'
    ldarg.0   
    ldfld      !0 class NSTM.NstmObject`1<!T>:: 'value'
    box        !T
    ret       
  }
  // End of method: NSTM.NstmObject`1/NSTM.INstmObject.get_Value() : object

  .method private hidebysig newslot specialname virtual final
          instance void NSTM.INstmObject.set_Value(object  'value') cil managed
  {
    .override NSTM.INstmObject::set_Value
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-d

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-d }
    .line 108,108 : 19,41  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmObject Of T.cs'
    ldarg.0   
    ldarg.1   
    unbox.any  !T
    stfld      !0 class NSTM.NstmObject`1<!T>:: 'value'
    .line 108,108 : 42,43
    ret       
  }
  // End of method: NSTM.NstmObject`1/NSTM.INstmObject.set_Value(object value) : void

  .method private hidebysig newslot virtual final
          instance object NSTM.INstmObject.CloneValue() cil managed
  {
    .override NSTM.INstmObject::CloneValue
    .maxstack 2
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 1 local(s), 0 handler(s), 0 child(ren), 6 sequence(s), 0-65
      .locals init ( [0]  !T CS$0$0000)

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-11 }
      .line 113,113 : 13,70  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmObject Of T.cs'
      ldtoken    !T
      call       class [mscorlib]System.Type [mscorlib]System.Type::GetTypeFromHandle(valuetype [mscorlib]System.RuntimeTypeHandle)
      call       instance bool [mscorlib]System.Type::get_IsValueType()
      brtrue.s   IL_0002

    IL_0001:
      // {InstructionSequence 1 Original, Range=11-27 }
      ldtoken    !T
      call       class [mscorlib]System.Type [mscorlib]System.Type::GetTypeFromHandle(valuetype [mscorlib]System.RuntimeTypeHandle)
      ldtoken    [mscorlib]System.String
      call       class [mscorlib]System.Type [mscorlib]System.Type::GetTypeFromHandle(valuetype [mscorlib]System.RuntimeTypeHandle)
      bne.un.s   IL_0003

    IL_0002:
      // {InstructionSequence 2 Original, Range=27-33 }
      .line 117,117 : 17,35
      ldarg.0   
      ldfld      !0 class NSTM.NstmObject`1<!T>:: 'value'
      box        !T
      ret       

    IL_0003:
      // {InstructionSequence 3 Original, Range=33-40 }
      .line 121,121 : 17,40
      ldarg.0   
      ldfld      !0 class NSTM.NstmObject`1<!T>:: 'value'
      box        !T
      brtrue.s   IL_0005

    IL_0004:
      // {InstructionSequence 4 Original, Range=40-4f }
      .line 122,122 : 21,39
      ldloca.s   CS$0$0000
      initobj    !T
      ldloc.0   
      box        !T
      ret       

    IL_0005:
      // {InstructionSequence 5 Original, Range=4f-65 }
      .line 124,124 : 21,61
      ldarg.0   
      ldfld      !0 class NSTM.NstmObject`1<!T>:: 'value'
      box        !T
      castclass  [mscorlib]System.ICloneable
      callvirt   instance object [mscorlib]System.ICloneable::Clone()
      ret       
    }
  }
  // End of method: NSTM.NstmObject`1/NSTM.INstmObject.CloneValue() : object

  .property instance int64 Version()
  {
    .get instance int64 NSTM.NstmObject`1::get_Version()
  }

  .property instance object NSTM.INstmObject.Value()
  {
    .set instance void NSTM.NstmObject`1::NSTM.INstmObject.set_Value(object)
    .get instance object NSTM.NstmObject`1::NSTM.INstmObject.get_Value()
  }

}
// End of type: NSTM.NstmObject`1


.class public auto ansi sealed NSTM.NstmTransactionActivityMode
      extends [mscorlib]System.Enum
{
  .field public specialname rtspecialname int32 value__

  .field public static literal valuetype NSTM.NstmTransactionActivityMode Active = int32(0x00000000)

  .field public static literal valuetype NSTM.NstmTransactionActivityMode Committing = int32(0x00000001)

  .field public static literal valuetype NSTM.NstmTransactionActivityMode Committed = int32(0x00000002)

  .field public static literal valuetype NSTM.NstmTransactionActivityMode Aborted = int32(0x00000003)

}
// End of type: NSTM.NstmTransactionActivityMode


.class interface public abstract auto ansi NSTM.INstmTransaction
      implements  [mscorlib]System.IDisposable
{
  .method public hidebysig newslot specialname abstract virtual
          instance valuetype NSTM.NstmTransactionIsolationLevel
          get_IsolationLevel() cil managed
  {
  }
  // End of method: NSTM.INstmTransaction/get_IsolationLevel() : NSTM.NstmTransactionIsolationLevel

  .method public hidebysig newslot specialname abstract virtual
          instance valuetype NSTM.NstmTransactionCloneMode
          get_CloneMode() cil managed
  {
  }
  // End of method: NSTM.INstmTransaction/get_CloneMode() : NSTM.NstmTransactionCloneMode

  .method public hidebysig newslot specialname abstract virtual
          instance valuetype NSTM.NstmTransactionActivityMode
          get_ActivityMode() cil managed
  {
  }
  // End of method: NSTM.INstmTransaction/get_ActivityMode() : NSTM.NstmTransactionActivityMode

  .method public hidebysig newslot specialname abstract virtual
          instance bool get_IsNested() cil managed
  {
  }
  // End of method: NSTM.INstmTransaction/get_IsNested() : bool

  .method public hidebysig newslot abstract virtual
          instance void Commit() cil managed
  {
  }
  // End of method: NSTM.INstmTransaction/Commit() : void

  .method public hidebysig newslot abstract virtual
          instance bool Commit(bool throwExceptionOnFailure) cil managed
  {
  }
  // End of method: NSTM.INstmTransaction/Commit(bool throwExceptionOnFailure) : bool

  .method public hidebysig newslot abstract virtual
          instance void Rollback() cil managed
  {
  }
  // End of method: NSTM.INstmTransaction/Rollback() : void

  .property instance valuetype NSTM.NstmTransactionIsolationLevel
            IsolationLevel()
  {
    .get instance valuetype NSTM.NstmTransactionIsolationLevel NSTM.INstmTransaction::get_IsolationLevel()
  }

  .property instance valuetype NSTM.NstmTransactionCloneMode
            CloneMode()
  {
    .get instance valuetype NSTM.NstmTransactionCloneMode NSTM.INstmTransaction::get_CloneMode()
  }

  .property instance valuetype NSTM.NstmTransactionActivityMode
            ActivityMode()
  {
    .get instance valuetype NSTM.NstmTransactionActivityMode NSTM.INstmTransaction::get_ActivityMode()
  }

  .property instance bool IsNested()
  {
    .get instance bool NSTM.INstmTransaction::get_IsNested()
  }

}
// End of type: NSTM.INstmTransaction


.class private auto ansi beforefieldinit NSTM.NstmVersion
      extends [mscorlib]System.Object
      implements NSTM.INstmVersioned
{
  .field private int64 version

  .method private hidebysig newslot specialname virtual final
          instance int64 NSTM.INstmVersioned.get_Version() cil managed
  {
    .override NSTM.INstmVersioned::get_Version
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-7

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-7 }
    .line 19,19 : 17,37  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmVersionableAspect.cs'
    ldarg.0   
    ldfld      int64 NSTM.NstmVersion::version
    ret       
  }
  // End of method: NSTM.NstmVersion/NSTM.INstmVersioned.get_Version() : int64

  .method private hidebysig newslot virtual final
          instance void NSTM.INstmVersioned.IncrementVersion() cil managed
  {
    .override NSTM.INstmVersioned::IncrementVersion
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-10

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-10 }
    .line 25,25 : 13,28  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmVersionableAspect.cs'
    ldarg.0   
    dup       
    ldfld      int64 NSTM.NstmVersion::version
    ldc.i4.1  
    conv.i8   
    add       
    stfld      int64 NSTM.NstmVersion::version
    .line 26,26 : 9,10
    ret       
  }
  // End of method: NSTM.NstmVersion/NSTM.INstmVersioned.IncrementVersion() : void

  .method public hidebysig specialname rtspecialname
          instance void .ctor() cil managed
  {
    .maxstack 8
    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-7

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-7 }
    ldarg.0   
    call       instance void [mscorlib]System.Object::.ctor()
    ret       
  }
  // End of method: NSTM.NstmVersion/.ctor() : void

  .property instance int64 NSTM.INstmVersioned.Version()
  {
    .get instance int64 NSTM.NstmVersion::NSTM.INstmVersioned.get_Version()
  }

}
// End of type: NSTM.NstmVersion


.class private auto ansi serializable beforefieldinit NSTM.NstmVersionableAspect
      extends [PostSharp.Laos]PostSharp.Laos.CompositionAspect
{
  .method public hidebysig virtual instance object
          CreateImplementationObject(class [PostSharp.Laos]PostSharp.Laos.InstanceBoundLaosEventArgs eventArgs) cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-6

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-6 }
    .line 37,37 : 13,38  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmVersionableAspect.cs'
    newobj     instance void NSTM.NstmVersion::.ctor()
    ret       
  }
  // End of method: NSTM.NstmVersionableAspect/CreateImplementationObject([PostSharp.Laos]PostSharp.Laos.InstanceBoundLaosEventArgs eventArgs) : object

  .method public hidebysig virtual instance class [mscorlib]System.Type
          GetPublicInterface(class [mscorlib]System.Type containerType) cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-b

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-b }
    .line 42,42 : 13,43  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmVersionableAspect.cs'
    ldtoken    NSTM.INstmVersioned
    call       class [mscorlib]System.Type [mscorlib]System.Type::GetTypeFromHandle(valuetype [mscorlib]System.RuntimeTypeHandle)
    ret       
  }
  // End of method: NSTM.NstmVersionableAspect/GetPublicInterface([mscorlib]System.Type containerType) : [mscorlib]System.Type

  .method public hidebysig specialname rtspecialname
          instance void .ctor() cil managed
  {
    .maxstack 8
    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-7

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-7 }
    ldarg.0   
    call       instance void [PostSharp.Laos]PostSharp.Laos.CompositionAspect::.ctor()
    ret       
  }
  // End of method: NSTM.NstmVersionableAspect/.ctor() : void

}
// End of type: NSTM.NstmVersionableAspect


.class private auto ansi beforefieldinit NSTM.Infrastructure.TransactionLog
      extends [mscorlib]System.Object
      implements  [mscorlib]System.ICloneable
{
  .custom instance void [mscorlib]System.Reflection.DefaultMemberAttribute::.ctor(string) = (  01 00 04 49 74 65 6D 00 00)
  .field private class [System]System.Collections.Generic.SortedDictionary`2<int32, class NSTM.Infrastructure.TransactionLogEntry> entries

  .method assembly hidebysig specialname rtspecialname
          instance void .ctor() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-12

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-12 }
    .line 14,14 : 9,34  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\TransactionLog.cs'
    ldarg.0   
    call       instance void [mscorlib]System.Object::.ctor()
    .line 16,16 : 13,72
    ldarg.0   
    newobj     instance void class [System]System.Collections.Generic.SortedDictionary`2<int32, class NSTM.Infrastructure.TransactionLogEntry>::.ctor()
    stfld      class [System]System.Collections.Generic.SortedDictionary`2<int32, class NSTM.Infrastructure.TransactionLogEntry> NSTM.Infrastructure.TransactionLog::entries
    .line 17,17 : 9,10
    ret       
  }
  // End of method: NSTM.Infrastructure.TransactionLog/.ctor() : void

  .method assembly hidebysig instance void
          Add(class NSTM.Infrastructure.TransactionLogEntry txEntry) cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-18

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-18 }
    .line 22,22 : 13,71  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\TransactionLog.cs'
    ldarg.0   
    ldfld      class [System]System.Collections.Generic.SortedDictionary`2<int32, class NSTM.Infrastructure.TransactionLogEntry> NSTM.Infrastructure.TransactionLog::entries
    ldarg.1   
    ldfld      class NSTM.INstmVersioned NSTM.Infrastructure.TransactionLogEntry:: 'instance'
    callvirt   instance int32 [mscorlib]System.Object::GetHashCode()
    ldarg.1   
    callvirt   instance void class [System]System.Collections.Generic.SortedDictionary`2<int32, class NSTM.Infrastructure.TransactionLogEntry>::Add(!0,
                                                                                                                                                    !1)
    .line 23,23 : 9,10
    ret       
  }
  // End of method: NSTM.Infrastructure.TransactionLog/Add(NSTM.Infrastructure.TransactionLogEntry txEntry) : void

  .method assembly hidebysig specialname
          instance class NSTM.Infrastructure.TransactionLogEntry
          get_Item(object  'instance') cil managed
  {
    .maxstack 2
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 1 local(s), 0 handler(s), 0 child(ren), 3 sequence(s), 0-24
      .locals init ( [0]  int32 key)

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-15 }
      .line 30,30 : 17,50  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\TransactionLog.cs'
      ldarg.1   
      callvirt   instance int32 [mscorlib]System.Object::GetHashCode()
      stloc.0   
      .line 32,32 : 17,46
      ldarg.0   
      ldfld      class [System]System.Collections.Generic.SortedDictionary`2<int32, class NSTM.Infrastructure.TransactionLogEntry> NSTM.Infrastructure.TransactionLog::entries
      ldloc.0   
      callvirt   instance bool class [System]System.Collections.Generic.SortedDictionary`2<int32, class NSTM.Infrastructure.TransactionLogEntry>::ContainsKey(!0)
      brfalse.s  IL_0002

    IL_0001:
      // {InstructionSequence 1 Original, Range=15-22 }
      .line 33,33 : 21,41
      ldarg.0   
      ldfld      class [System]System.Collections.Generic.SortedDictionary`2<int32, class NSTM.Infrastructure.TransactionLogEntry> NSTM.Infrastructure.TransactionLog::entries
      ldloc.0   
      callvirt   instance !1 class [System]System.Collections.Generic.SortedDictionary`2<int32, class NSTM.Infrastructure.TransactionLogEntry>::get_Item(!0)
      ret       

    IL_0002:
      // {InstructionSequence 2 Original, Range=22-24 }
      .line 35,35 : 21,33
      ldnull    
      ret       
    }
  }
  // End of method: NSTM.Infrastructure.TransactionLog/get_Item(object instance) : NSTM.Infrastructure.TransactionLogEntry

  .method assembly hidebysig specialname
          instance int32 get_Count() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-c

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-c }
    .line 44,44 : 17,38  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\TransactionLog.cs'
    ldarg.0   
    ldfld      class [System]System.Collections.Generic.SortedDictionary`2<int32, class NSTM.Infrastructure.TransactionLogEntry> NSTM.Infrastructure.TransactionLog::entries
    callvirt   instance int32 class [System]System.Collections.Generic.SortedDictionary`2<int32, class NSTM.Infrastructure.TransactionLogEntry>::get_Count()
    ret       
  }
  // End of method: NSTM.Infrastructure.TransactionLog/get_Count() : int32

  .method assembly hidebysig specialname
          instance class [mscorlib]System.Collections.Generic.ICollection`1<class NSTM.Infrastructure.TransactionLogEntry>
          get_SortedEntries() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-c

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-c }
    .line 53,53 : 17,44  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\TransactionLog.cs'
    ldarg.0   
    ldfld      class [System]System.Collections.Generic.SortedDictionary`2<int32, class NSTM.Infrastructure.TransactionLogEntry> NSTM.Infrastructure.TransactionLog::entries
    callvirt   instance class [System]System.Collections.Generic.SortedDictionary`2/ValueCollection<!0, !1> class [System]System.Collections.Generic.SortedDictionary`2<int32, class NSTM.Infrastructure.TransactionLogEntry>::get_Values()
    ret       
  }
  // End of method: NSTM.Infrastructure.TransactionLog/get_SortedEntries() : [mscorlib]System.Collections.Generic.ICollection`1<NSTM.Infrastructure.TransactionLogEntry>

  .method public hidebysig newslot virtual final
          instance object Clone() cil managed
  {
    .maxstack 3
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 2 local(s), 0 handler(s), 4 child(ren), 0 sequence(s), 0-5d
      .locals init ( [0]  class NSTM.Infrastructure.TransactionLog txLogClone,
                     [2]  valuetype [System]System.Collections.Generic.SortedDictionary`2/ValueCollection/Enumerator<int32, class NSTM.Infrastructure.TransactionLogEntry> CS$5$0000)
      // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-17

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-17 }
      .line 62,62 : 13,62  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\TransactionLog.cs'
      newobj     instance void NSTM.Infrastructure.TransactionLog::.ctor()
      stloc.0   
      .line 63,63 : 54,68
      ldarg.0   
      ldfld      class [System]System.Collections.Generic.SortedDictionary`2<int32, class NSTM.Infrastructure.TransactionLogEntry> NSTM.Infrastructure.TransactionLog::entries
      callvirt   instance class [System]System.Collections.Generic.SortedDictionary`2/ValueCollection<!0, !1> class [System]System.Collections.Generic.SortedDictionary`2<int32, class NSTM.Infrastructure.TransactionLogEntry>::get_Values()
      callvirt   instance valuetype [System]System.Collections.Generic.SortedDictionary`2/ValueCollection/Enumerator<!0, !1> class [System]System.Collections.Generic.SortedDictionary`2/ValueCollection<int32, class NSTM.Infrastructure.TransactionLogEntry>::GetEnumerator()
      stloc.2   
      .try
      {
        // InstructionBlock 2 [], 0 local(s), 1 handler(s), 2 child(ren), 0 sequence(s), 17-4d
        {
          // InstructionBlock 6 [], 1 local(s), 0 handler(s), 0 child(ren), 3 sequence(s), 17-4b
          .locals init ( [1]  class NSTM.Infrastructure.TransactionLogEntry logEntry)

        IL_0001:
          // {InstructionSequence 1 Original, Range=17-19 }
          .line 0x00feefee
          br.s       IL_0003

        IL_0002:
          // {InstructionSequence 2 Original, Range=19-42 }
          .line 63,63 : 22,50
          ldloca.s   CS$5$0000
          call       instance !1 valuetype [System]System.Collections.Generic.SortedDictionary`2/ValueCollection/Enumerator<int32, class NSTM.Infrastructure.TransactionLogEntry>::get_Current()
          stloc.1   
          .line 64,64 : 17,112
          ldloc.0   
          ldfld      class [System]System.Collections.Generic.SortedDictionary`2<int32, class NSTM.Infrastructure.TransactionLogEntry> NSTM.Infrastructure.TransactionLog::entries
          ldloc.1   
          ldfld      class NSTM.INstmVersioned NSTM.Infrastructure.TransactionLogEntry:: 'instance'
          callvirt   instance int32 [mscorlib]System.Object::GetHashCode()
          ldloc.1   
          callvirt   instance object NSTM.Infrastructure.TransactionLogEntry::Clone()
          castclass  NSTM.Infrastructure.TransactionLogEntry
          callvirt   instance void class [System]System.Collections.Generic.SortedDictionary`2<int32, class NSTM.Infrastructure.TransactionLogEntry>::Add(!0,
                                                                                                                                                          !1)

        IL_0003:
          // {InstructionSequence 3 Original, Range=42-4b }
          .line 63,63 : 51,53
          ldloca.s   CS$5$0000
          call       instance bool valuetype [System]System.Collections.Generic.SortedDictionary`2/ValueCollection/Enumerator<int32, class NSTM.Infrastructure.TransactionLogEntry>::MoveNext()
          brtrue.s   IL_0002
        }
        // InstructionBlock 7 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 4b-4d

      IL_0004:
        // {InstructionSequence 4 Original, Range=4b-4d }
        .line 0x00feefee
        leave.s    IL_0006
      }
      finally
      {
        // InstructionBlock 4 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 4d-5b

      IL_0005:
        // {InstructionSequence 5 Original, Range=4d-5b }
        ldloca.s   CS$5$0000
        constrained.  valuetype [System]System.Collections.Generic.SortedDictionary`2/ValueCollection/Enumerator<int32, class NSTM.Infrastructure.TransactionLogEntry>
        callvirt   instance void [mscorlib]System.IDisposable::Dispose()
        endfinally
      }
      // InstructionBlock 5 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 5b-5d

    IL_0006:
      // {InstructionSequence 6 Original, Range=5b-5d }
      .line 65,65 : 13,31
      ldloc.0   
      ret       
    }
  }
  // End of method: NSTM.Infrastructure.TransactionLog/Clone() : object

  .property instance class NSTM.Infrastructure.TransactionLogEntry
            Item(object)
  {
    .get instance class NSTM.Infrastructure.TransactionLogEntry NSTM.Infrastructure.TransactionLog::get_Item(object)
  }

  .property instance int32 Count()
  {
    .get instance int32 NSTM.Infrastructure.TransactionLog::get_Count()
  }

  .property instance class [mscorlib]System.Collections.Generic.ICollection`1<class NSTM.Infrastructure.TransactionLogEntry>
            SortedEntries()
  {
    .get instance class [mscorlib]System.Collections.Generic.ICollection`1<class NSTM.Infrastructure.TransactionLogEntry> NSTM.Infrastructure.TransactionLog::get_SortedEntries()
  }

}
// End of type: NSTM.Infrastructure.TransactionLog


.class public auto ansi sealed NSTM.NstmTransactionScopeOption
      extends [mscorlib]System.Enum
{
  .field public specialname rtspecialname int32 value__

  .field public static literal valuetype NSTM.NstmTransactionScopeOption Required = int32(0x00000000)

  .field public static literal valuetype NSTM.NstmTransactionScopeOption RequiresNew = int32(0x00000001)

  .field public static literal valuetype NSTM.NstmTransactionScopeOption RequiresNested = int32(0x00000002)

  .field public static literal valuetype NSTM.NstmTransactionScopeOption RequiredOrNested = int32(0x00000003)

}
// End of type: NSTM.NstmTransactionScopeOption


.class public auto ansi sealed NSTM.NstmTransactionIsolationLevel
      extends [mscorlib]System.Enum
{
  .field public specialname rtspecialname int32 value__

  .field public static literal valuetype NSTM.NstmTransactionIsolationLevel ReadCommitted = int32(0x00000000)

  .field public static literal valuetype NSTM.NstmTransactionIsolationLevel Serializable = int32(0x00000001)

}
// End of type: NSTM.NstmTransactionIsolationLevel


.class public auto ansi sealed NSTM.NstmTransactionCloneMode
      extends [mscorlib]System.Enum
{
  .field public specialname rtspecialname int32 value__

  .field public static literal valuetype NSTM.NstmTransactionCloneMode CloneOnWrite = int32(0x00000000)

  .field public static literal valuetype NSTM.NstmTransactionCloneMode CloneOnRead = int32(0x00000001)

}
// End of type: NSTM.NstmTransactionCloneMode


.class public auto ansi sealed NSTM.NstmSystemTransactionsMode
      extends [mscorlib]System.Enum
{
  .field public specialname rtspecialname int32 value__

  .field public static literal valuetype NSTM.NstmSystemTransactionsMode Ignore = int32(0x00000000)

  .field public static literal valuetype NSTM.NstmSystemTransactionsMode EnlistOnBeginTransaction = int32(0x00000001)

  .field public static literal valuetype NSTM.NstmSystemTransactionsMode EnlistOnAccess = int32(0x00000002)

}
// End of type: NSTM.NstmSystemTransactionsMode


.class public abstract auto ansi sealed beforefieldinit NSTM.NstmMemory
      extends [mscorlib]System.Object
{
  .field private static valuetype NSTM.NstmSystemTransactionsMode systemTransactionMode

  .method public hidebysig static class NSTM.INstmTransaction
          BeginTransaction() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-9

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-9 }
    .line 50,53 : 13,55  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmMemory.cs'
    ldc.i4.2  
    ldc.i4.1  
    ldc.i4.1  
    call       class NSTM.INstmTransaction NSTM.NstmMemory::BeginTransaction(valuetype NSTM.NstmTransactionScopeOption,
                                                                             valuetype NSTM.NstmTransactionIsolationLevel,
                                                                             valuetype NSTM.NstmTransactionCloneMode)
    ret       
  }
  // End of method: NSTM.NstmMemory/BeginTransaction() : NSTM.INstmTransaction

  .method public hidebysig static class NSTM.INstmTransaction
          BeginTransaction(valuetype NSTM.NstmTransactionIsolationLevel isolationLevel) cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-9

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-9 }
    .line 58,61 : 13,56  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmMemory.cs'
    ldc.i4.2  
    ldarg.0   
    ldc.i4.0  
    call       class NSTM.INstmTransaction NSTM.NstmMemory::BeginTransaction(valuetype NSTM.NstmTransactionScopeOption,
                                                                             valuetype NSTM.NstmTransactionIsolationLevel,
                                                                             valuetype NSTM.NstmTransactionCloneMode)
    ret       
  }
  // End of method: NSTM.NstmMemory/BeginTransaction(NSTM.NstmTransactionIsolationLevel isolationLevel) : NSTM.INstmTransaction

  .method public hidebysig static class NSTM.INstmTransaction
          BeginTransaction(valuetype NSTM.NstmTransactionScopeOption scopeOption,
                           valuetype NSTM.NstmTransactionIsolationLevel isolationLevel,
                           valuetype NSTM.NstmTransactionCloneMode cloneMode) cil managed
  {
    .maxstack 4
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 1 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-b
      .locals init ( [0]  bool newTxCreated)

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-b }
      .line 68,68 : 13,106  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmMemory.cs'
      ldarg.0   
      ldarg.1   
      ldarg.2   
      ldloca.s   newTxCreated
      call       class NSTM.INstmTransaction NSTM.NstmMemory::BeginTransaction(valuetype NSTM.NstmTransactionScopeOption,
                                                                               valuetype NSTM.NstmTransactionIsolationLevel,
                                                                               valuetype NSTM.NstmTransactionCloneMode,
                                                                               bool&)
      ret       
    }
  }
  // End of method: NSTM.NstmMemory/BeginTransaction(NSTM.NstmTransactionScopeOption scopeOption, NSTM.NstmTransactionIsolationLevel isolationLevel, NSTM.NstmTransactionCloneMode cloneMode) : NSTM.INstmTransaction

  .method public hidebysig static class NSTM.INstmTransaction
          BeginTransaction(valuetype NSTM.NstmTransactionScopeOption scopeOption,
                           valuetype NSTM.NstmTransactionIsolationLevel isolationLevel,
                           valuetype NSTM.NstmTransactionCloneMode cloneMode,
                           [out] bool& newTxCreated) cil managed
  {
    .maxstack 4
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 3 local(s), 0 handler(s), 0 child(ren), 17 sequence(s), 0-c4
      .locals init ( [0]  class NSTM.NstmTransaction tx,
                     [1]  class NSTM.Infrastructure.ThreadTransactionStack txStack,
                     [2]  valuetype NSTM.NstmTransactionScopeOption CS$0$0000)

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-23 }
      .line 74,74 : 13,39  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmMemory.cs'
      ldnull    
      stloc.0   
      .line 75,75 : 13,33
      ldarg.3   
      ldc.i4.1  
      stind.i1  
      .line 77,77 : 13,110
      newobj     instance void NSTM.Infrastructure.ThreadTransactionStack::.ctor()
      stloc.1   
      .line 78,78 : 13,33
      ldarg.0   
      stloc.2   
      ldloc.2   
      switch    (
                 IL_0002,
                 IL_0008,
                 IL_0009,
                 IL_000A)

    IL_0001:
      // {InstructionSequence 1 Original, Range=23-28 }
      br         IL_0010

    IL_0002:
      // {InstructionSequence 2 Original, Range=28-30 }
      .line 82,82 : 21,44
      ldloc.1   
      callvirt   instance int32 NSTM.Infrastructure.ThreadTransactionStack::get_Count()
      brtrue.s   IL_0004

    IL_0003:
      // {InstructionSequence 3 Original, Range=30-3f }
      .line 84,84 : 25,90
      ldloc.1   
      ldnull    
      ldarg.1   
      ldarg.2   
      call       class NSTM.NstmTransaction NSTM.NstmMemory::CreateTransaction(class NSTM.Infrastructure.ThreadTransactionStack,
                                                                               class NSTM.NstmTransaction,
                                                                               valuetype NSTM.NstmTransactionIsolationLevel,
                                                                               valuetype NSTM.NstmTransactionCloneMode)
      stloc.0   
      .line 0x00feefee
      br         IL_0010

    IL_0004:
      // {InstructionSequence 4 Original, Range=3f-4f }
      .line 88,88 : 25,45
      ldloc.1   
      callvirt   instance class NSTM.NstmTransaction NSTM.Infrastructure.ThreadTransactionStack::Peek()
      stloc.0   
      .line 89,89 : 25,92
      ldloc.0   
      callvirt   instance valuetype NSTM.NstmTransactionIsolationLevel NSTM.NstmTransaction::get_IsolationLevel()
      ldarg.1   
      blt.s      IL_0006

    IL_0005:
      // {InstructionSequence 5 Original, Range=4f-58 }
      ldloc.0   
      callvirt   instance valuetype NSTM.NstmTransactionCloneMode NSTM.NstmTransaction::get_CloneMode()
      ldarg.2   
      bge.s      IL_0007

    IL_0006:
      // {InstructionSequence 6 Original, Range=58-64 }
      .line 91,91 : 29,94
      ldloc.1   
      ldnull    
      ldarg.1   
      ldarg.2   
      call       class NSTM.NstmTransaction NSTM.NstmMemory::CreateTransaction(class NSTM.Infrastructure.ThreadTransactionStack,
                                                                               class NSTM.NstmTransaction,
                                                                               valuetype NSTM.NstmTransactionIsolationLevel,
                                                                               valuetype NSTM.NstmTransactionCloneMode)
      stloc.0   
      .line 0x00feefee
      br         IL_0010

    IL_0007:
      // {InstructionSequence 7 Original, Range=64-69 }
      .line 93,93 : 29,50
      ldarg.3   
      ldc.i4.0  
      stind.i1  
      .line 95,95 : 21,27
      br.s       IL_0010

    IL_0008:
      // {InstructionSequence 8 Original, Range=69-75 }
      .line 99,99 : 21,86
      ldloc.1   
      ldnull    
      ldarg.1   
      ldarg.2   
      call       class NSTM.NstmTransaction NSTM.NstmMemory::CreateTransaction(class NSTM.Infrastructure.ThreadTransactionStack,
                                                                               class NSTM.NstmTransaction,
                                                                               valuetype NSTM.NstmTransactionIsolationLevel,
                                                                               valuetype NSTM.NstmTransactionCloneMode)
      stloc.0   
      .line 100,100 : 21,27
      br.s       IL_0010

    IL_0009:
      // {InstructionSequence 9 Original, Range=75-86 }
      .line 104,104 : 21,96
      ldloc.1   
      ldloc.1   
      callvirt   instance class NSTM.NstmTransaction NSTM.Infrastructure.ThreadTransactionStack::Peek()
      ldarg.1   
      ldarg.2   
      call       class NSTM.NstmTransaction NSTM.NstmMemory::CreateTransaction(class NSTM.Infrastructure.ThreadTransactionStack,
                                                                               class NSTM.NstmTransaction,
                                                                               valuetype NSTM.NstmTransactionIsolationLevel,
                                                                               valuetype NSTM.NstmTransactionCloneMode)
      stloc.0   
      .line 105,105 : 21,27
      br.s       IL_0010

    IL_000A:
      // {InstructionSequence 10 Original, Range=86-8e }
      .line 109,109 : 21,44
      ldloc.1   
      callvirt   instance int32 NSTM.Infrastructure.ThreadTransactionStack::get_Count()
      brtrue.s   IL_000C

    IL_000B:
      // {InstructionSequence 11 Original, Range=8e-9a }
      .line 111,111 : 25,90
      ldloc.1   
      ldnull    
      ldarg.1   
      ldarg.2   
      call       class NSTM.NstmTransaction NSTM.NstmMemory::CreateTransaction(class NSTM.Infrastructure.ThreadTransactionStack,
                                                                               class NSTM.NstmTransaction,
                                                                               valuetype NSTM.NstmTransactionIsolationLevel,
                                                                               valuetype NSTM.NstmTransactionCloneMode)
      stloc.0   
      .line 0x00feefee
      br.s       IL_0010

    IL_000C:
      // {InstructionSequence 12 Original, Range=9a-aa }
      .line 115,115 : 25,45
      ldloc.1   
      callvirt   instance class NSTM.NstmTransaction NSTM.Infrastructure.ThreadTransactionStack::Peek()
      stloc.0   
      .line 116,116 : 25,92
      ldloc.0   
      callvirt   instance valuetype NSTM.NstmTransactionIsolationLevel NSTM.NstmTransaction::get_IsolationLevel()
      ldarg.1   
      blt.s      IL_000E

    IL_000D:
      // {InstructionSequence 13 Original, Range=aa-b3 }
      ldloc.0   
      callvirt   instance valuetype NSTM.NstmTransactionCloneMode NSTM.NstmTransaction::get_CloneMode()
      ldarg.2   
      bge.s      IL_000F

    IL_000E:
      // {InstructionSequence 14 Original, Range=b3-bf }
      .line 118,118 : 29,92
      ldloc.1   
      ldloc.0   
      ldarg.1   
      ldarg.2   
      call       class NSTM.NstmTransaction NSTM.NstmMemory::CreateTransaction(class NSTM.Infrastructure.ThreadTransactionStack,
                                                                               class NSTM.NstmTransaction,
                                                                               valuetype NSTM.NstmTransactionIsolationLevel,
                                                                               valuetype NSTM.NstmTransactionCloneMode)
      stloc.0   
      .line 0x00feefee
      br.s       IL_0010

    IL_000F:
      // {InstructionSequence 15 Original, Range=bf-c2 }
      .line 120,120 : 29,50
      ldarg.3   
      ldc.i4.0  
      stind.i1  

    IL_0010:
      // {InstructionSequence 16 Original, Range=c2-c4 }
      .line 125,125 : 13,23
      ldloc.0   
      ret       
    }
  }
  // End of method: NSTM.NstmMemory/BeginTransaction(NSTM.NstmTransactionScopeOption scopeOption, NSTM.NstmTransactionIsolationLevel isolationLevel, NSTM.NstmTransactionCloneMode cloneMode, bool& newTxCreated) : NSTM.INstmTransaction

  .method assembly hidebysig static class NSTM.NstmTransaction
          CreateTransaction(class NSTM.Infrastructure.ThreadTransactionStack txStack,
                            class NSTM.NstmTransaction txParent,
                            valuetype NSTM.NstmTransactionIsolationLevel isolationLevel,
                            valuetype NSTM.NstmTransactionCloneMode copyMode) cil managed
  {
    .maxstack 4
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 1 local(s), 0 handler(s), 3 child(ren), 0 sequence(s), 0-63
      .locals init ( [0]  class NSTM.NstmTransaction tx)
      // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 3 sequence(s), 0-2b

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-11 }
      .line 130,130 : 13,90  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmMemory.cs'
      ldarg.1   
      ldarg.2   
      ldarg.3   
      newobj     instance void NSTM.NstmTransaction::.ctor(class NSTM.NstmTransaction,
                                                           valuetype NSTM.NstmTransactionIsolationLevel,
                                                           valuetype NSTM.NstmTransactionCloneMode)
      stloc.0   
      .line 132,132 : 13,136
      ldsfld     valuetype NSTM.NstmSystemTransactionsMode NSTM.NstmMemory::systemTransactionMode
      ldc.i4.1  
      bne.un.s   IL_0006

    IL_0001:
      // {InstructionSequence 1 Original, Range=11-1e }
      call       class [System.Transactions]System.Transactions.Transaction [System.Transactions]System.Transactions.Transaction::get_Current()
      ldnull    
      call       bool [System.Transactions]System.Transactions.Transaction::op_Inequality(class [System.Transactions]System.Transactions.Transaction,
                                                                                          class [System.Transactions]System.Transactions.Transaction)
      brfalse.s  IL_0006

    IL_0002:
      // {InstructionSequence 2 Original, Range=1e-2b }
      .line 134,134 : 17,82
      ldarg.0   
      call       class [System.Transactions]System.Transactions.Transaction [System.Transactions]System.Transactions.Transaction::get_Current()
      callvirt   instance class NSTM.NstmTransaction NSTM.Infrastructure.ThreadTransactionStack::FindBySystemTransaction(class [System.Transactions]System.Transactions.Transaction)
      brtrue.s   IL_0005
      {
        // InstructionBlock 2 [], 1 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 2b-4f
        .locals init ( [1]  class NSTM.NstmTransaction txNested)

      IL_0003:
        // {InstructionSequence 3 Original, Range=2b-4f }
        .line 138,138 : 21,71
        ldloc.0   
        call       class [System.Transactions]System.Transactions.Transaction [System.Transactions]System.Transactions.Transaction::get_Current()
        callvirt   instance void NSTM.NstmTransaction::EnlistInSystemTransaction(class [System.Transactions]System.Transactions.Transaction)
        .line 139,139 : 21,38
        ldarg.0   
        ldloc.0   
        callvirt   instance void NSTM.Infrastructure.ThreadTransactionStack::Push(class NSTM.NstmTransaction)
        .line 144,144 : 21,155
        ldloc.0   
        ldc.i4.0  
        ldc.i4.1  
        newobj     instance void NSTM.NstmTransaction::.ctor(class NSTM.NstmTransaction,
                                                             valuetype NSTM.NstmTransactionIsolationLevel,
                                                             valuetype NSTM.NstmTransactionCloneMode)
        stloc.1   
        .line 145,145 : 21,44
        ldarg.0   
        ldloc.1   
        callvirt   instance void NSTM.Infrastructure.ThreadTransactionStack::Push(class NSTM.NstmTransaction)
        .line 147,147 : 21,35
        ldloc.1   
        stloc.0   
      }
      // InstructionBlock 3 [], 0 local(s), 0 handler(s), 0 child(ren), 4 sequence(s), 4f-63

    IL_0004:
      // {InstructionSequence 4 Original, Range=4f-51 }
      .line 0x00feefee
      br.s       IL_0007

    IL_0005:
      // {InstructionSequence 5 Original, Range=51-5a }
      .line 150,150 : 21,38
      ldarg.0   
      ldloc.0   
      callvirt   instance void NSTM.Infrastructure.ThreadTransactionStack::Push(class NSTM.NstmTransaction)
      .line 0x00feefee
      br.s       IL_0007

    IL_0006:
      // {InstructionSequence 6 Original, Range=5a-61 }
      .line 153,153 : 17,34
      ldarg.0   
      ldloc.0   
      callvirt   instance void NSTM.Infrastructure.ThreadTransactionStack::Push(class NSTM.NstmTransaction)

    IL_0007:
      // {InstructionSequence 7 Original, Range=61-63 }
      .line 155,155 : 13,23
      ldloc.0   
      ret       
    }
  }
  // End of method: NSTM.NstmMemory/CreateTransaction(NSTM.Infrastructure.ThreadTransactionStack txStack, NSTM.NstmTransaction txParent, NSTM.NstmTransactionIsolationLevel isolationLevel, NSTM.NstmTransactionCloneMode copyMode) : NSTM.NstmTransaction

  .method public hidebysig specialname static
          class NSTM.INstmTransaction get_Current() cil managed
  {
    .maxstack 4
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 3 child(ren), 0 sequence(s), 0-58
    // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 2 sequence(s), 0-15

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-8 }
    .line 163,163 : 17,130  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmMemory.cs'
    ldsfld     valuetype NSTM.NstmSystemTransactionsMode NSTM.NstmMemory::systemTransactionMode
    ldc.i4.2  
    bne.un.s   IL_0005

  IL_0001:
    // {InstructionSequence 1 Original, Range=8-15 }
    call       class [System.Transactions]System.Transactions.Transaction [System.Transactions]System.Transactions.Transaction::get_Current()
    ldnull    
    call       bool [System.Transactions]System.Transactions.Transaction::op_Inequality(class [System.Transactions]System.Transactions.Transaction,
                                                                                        class [System.Transactions]System.Transactions.Transaction)
    brfalse.s  IL_0005
    {
      // InstructionBlock 2 [], 2 local(s), 0 handler(s), 0 child(ren), 3 sequence(s), 15-4d
      .locals init ( [0]  class NSTM.Infrastructure.ThreadTransactionStack txStack,
                     [1]  class NSTM.NstmTransaction tx)

    IL_0002:
      // {InstructionSequence 2 Original, Range=15-2a }
      .line 165,165 : 21,118
      newobj     instance void NSTM.Infrastructure.ThreadTransactionStack::.ctor()
      stloc.0   
      .line 166,166 : 21,95
      ldloc.0   
      call       class [System.Transactions]System.Transactions.Transaction [System.Transactions]System.Transactions.Transaction::get_Current()
      callvirt   instance class NSTM.NstmTransaction NSTM.Infrastructure.ThreadTransactionStack::FindBySystemTransaction(class [System.Transactions]System.Transactions.Transaction)
      stloc.1   
      .line 167,167 : 21,36
      ldloc.1   
      brtrue.s   IL_0004

    IL_0003:
      // {InstructionSequence 3 Original, Range=2a-46 }
      .line 170,170 : 25,155
      ldloc.0   
      ldloc.0   
      callvirt   instance class NSTM.NstmTransaction NSTM.Infrastructure.ThreadTransactionStack::Peek()
      ldc.i4.1  
      ldc.i4.1  
      call       class NSTM.NstmTransaction NSTM.NstmMemory::CreateTransaction(class NSTM.Infrastructure.ThreadTransactionStack,
                                                                               class NSTM.NstmTransaction,
                                                                               valuetype NSTM.NstmTransactionIsolationLevel,
                                                                               valuetype NSTM.NstmTransactionCloneMode)
      stloc.1   
      .line 171,171 : 25,75
      ldloc.1   
      call       class [System.Transactions]System.Transactions.Transaction [System.Transactions]System.Transactions.Transaction::get_Current()
      callvirt   instance void NSTM.NstmTransaction::EnlistInSystemTransaction(class [System.Transactions]System.Transactions.Transaction)
      .line 172,172 : 25,35
      ldloc.1   
      ret       

    IL_0004:
      // {InstructionSequence 4 Original, Range=46-4d }
      .line 176,176 : 25,47
      ldloc.0   
      callvirt   instance class NSTM.NstmTransaction NSTM.Infrastructure.ThreadTransactionStack::Peek()
      ret       
    }
    // InstructionBlock 3 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 4d-58

  IL_0005:
    // {InstructionSequence 5 Original, Range=4d-58 }
    .line 179,179 : 21,79
    newobj     instance void NSTM.Infrastructure.ThreadTransactionStack::.ctor()
    call       instance class NSTM.NstmTransaction NSTM.Infrastructure.ThreadTransactionStack::Peek()
    ret       
  }
  // End of method: NSTM.NstmMemory/get_Current() : NSTM.INstmTransaction

  .method public hidebysig specialname static
          int32 get_ActiveTransactionCount() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-b

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-b }
    .line 188,188 : 17,74  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmMemory.cs'
    newobj     instance void NSTM.Infrastructure.ThreadTransactionStack::.ctor()
    call       instance int32 NSTM.Infrastructure.ThreadTransactionStack::get_Count()
    ret       
  }
  // End of method: NSTM.NstmMemory/get_ActiveTransactionCount() : int32

  .method public hidebysig specialname static
          valuetype NSTM.NstmSystemTransactionsMode
          get_SystemTransactionsMode() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-6

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-6 }
    .line 195,195 : 19,59  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmMemory.cs'
    ldsfld     valuetype NSTM.NstmSystemTransactionsMode NSTM.NstmMemory::systemTransactionMode
    ret       
  }
  // End of method: NSTM.NstmMemory/get_SystemTransactionsMode() : NSTM.NstmSystemTransactionsMode

  .method public hidebysig specialname static
          void set_SystemTransactionsMode(valuetype NSTM.NstmSystemTransactionsMode  'value') cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-7

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-7 }
    .line 196,196 : 19,60  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmMemory.cs'
    ldarg.0   
    stsfld     valuetype NSTM.NstmSystemTransactionsMode NSTM.NstmMemory::systemTransactionMode
    .line 196,196 : 61,62
    ret       
  }
  // End of method: NSTM.NstmMemory/set_SystemTransactionsMode(NSTM.NstmSystemTransactionsMode value) : void

  .method public hidebysig static class NSTM.INstmObject`1<!!T>
          CreateObject<T>() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-6

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-6 }
    .line 202,202 : 13,40  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmMemory.cs'
    newobj     instance void class NSTM.NstmObject`1<!!T>::.ctor()
    ret       
  }
  // End of method: NSTM.NstmMemory/CreateObject() : NSTM.INstmObject`1<!!0>

  .method public hidebysig static class NSTM.INstmObject`1<!!T>
          CreateObject<T>(!!T initialValue) cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-7

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-7 }
    .line 207,207 : 13,52  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Contract\\NstmMemory.cs'
    ldarg.0   
    newobj     instance void class NSTM.NstmObject`1<!!T>::.ctor(!0)
    ret       
  }
  // End of method: NSTM.NstmMemory/CreateObject(!!0 initialValue) : NSTM.INstmObject`1<!!0>

  .property class NSTM.INstmTransaction Current()
  {
    .get class NSTM.INstmTransaction NSTM.NstmMemory::get_Current()
  }

  .property int32 ActiveTransactionCount()
  {
    .get int32 NSTM.NstmMemory::get_ActiveTransactionCount()
  }

  .property valuetype NSTM.NstmSystemTransactionsMode
            SystemTransactionsMode()
  {
    .get valuetype NSTM.NstmSystemTransactionsMode NSTM.NstmMemory::get_SystemTransactionsMode()
    .set void NSTM.NstmMemory::set_SystemTransactionsMode(valuetype NSTM.NstmSystemTransactionsMode)
  }

}
// End of type: NSTM.NstmMemory


.class public auto ansi sealed NSTM.NstmReadOption
      extends [mscorlib]System.Enum
{
  .field public specialname rtspecialname int32 value__

  .field public static literal valuetype NSTM.NstmReadOption PassingReadOnly = int32(0x00000000)

  .field public static literal valuetype NSTM.NstmReadOption ReadOnly = int32(0x00000001)

  .field public static literal valuetype NSTM.NstmReadOption ReadWrite = int32(0x00000002)

}
// End of type: NSTM.NstmReadOption


.class private auto ansi beforefieldinit NSTM.NstmTransaction
      extends [mscorlib]System.Object
      implements NSTM.INstmTransaction, 
                 [mscorlib]System.IDisposable, 
                 [System.Transactions]System.Transactions.IEnlistmentNotification
{
  .field private class [System.Transactions]System.Transactions.Transaction txSystem

  .field private class NSTM.NstmTransaction txParent

  .field private valuetype NSTM.NstmTransactionIsolationLevel isolationLevel

  .field private valuetype NSTM.NstmTransactionCloneMode cloneMode

  .field private valuetype NSTM.NstmTransactionActivityMode activityMode

  .field private class NSTM.Infrastructure.TransactionLog txLog

  .method assembly hidebysig specialname rtspecialname
          instance void .ctor(class NSTM.NstmTransaction txParent,
                              valuetype NSTM.NstmTransactionIsolationLevel isolationLevel,
                              valuetype NSTM.NstmTransactionCloneMode cloneMode) cil managed
  {
    .maxstack 2
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 4 sequence(s), 0-49

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-10 }
    .line 26,26 : 9,141  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
    ldarg.0   
    call       instance void [mscorlib]System.Object::.ctor()
    .line 28,28 : 13,38
    ldarg.0   
    ldarg.1   
    stfld      class NSTM.NstmTransaction NSTM.NstmTransaction::txParent
    .line 29,29 : 13,34
    ldarg.1   
    brfalse.s  IL_0002

  IL_0001:
    // {InstructionSequence 1 Original, Range=10-28 }
    .line 31,31 : 17,84
    ldarg.0   
    ldarg.1   
    ldfld      class NSTM.Infrastructure.TransactionLog NSTM.NstmTransaction::txLog
    callvirt   instance object NSTM.Infrastructure.TransactionLog::Clone()
    castclass  NSTM.Infrastructure.TransactionLog
    stfld      class NSTM.Infrastructure.TransactionLog NSTM.NstmTransaction::txLog
    .line 0x00feefee
    br.s       IL_0003

  IL_0002:
    // {InstructionSequence 2 Original, Range=28-33 }
    .line 33,33 : 17,71
    ldarg.0   
    newobj     instance void NSTM.Infrastructure.TransactionLog::.ctor()
    stfld      class NSTM.Infrastructure.TransactionLog NSTM.NstmTransaction::txLog

  IL_0003:
    // {InstructionSequence 3 Original, Range=33-49 }
    .line 35,35 : 13,50
    ldarg.0   
    ldarg.2   
    stfld      valuetype NSTM.NstmTransactionIsolationLevel NSTM.NstmTransaction::isolationLevel
    .line 36,36 : 13,40
    ldarg.0   
    ldarg.3   
    stfld      valuetype NSTM.NstmTransactionCloneMode NSTM.NstmTransaction::cloneMode
    .line 38,38 : 13,68
    ldarg.0   
    ldc.i4.0  
    stfld      valuetype NSTM.NstmTransactionActivityMode NSTM.NstmTransaction::activityMode
    .line 39,39 : 9,10
    ret       
  }
  // End of method: NSTM.NstmTransaction/.ctor(NSTM.NstmTransaction txParent, NSTM.NstmTransactionIsolationLevel isolationLevel, NSTM.NstmTransactionCloneMode cloneMode) : void

  .method assembly hidebysig instance void
          EnlistInSystemTransaction(class [System.Transactions]System.Transactions.Transaction txSystem) cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-16

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-16 }
    .line 44,44 : 13,38  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
    ldarg.0   
    ldarg.1   
    stfld      class [System.Transactions]System.Transactions.Transaction NSTM.NstmTransaction::txSystem
    .line 45,45 : 13,72
    ldarg.0   
    ldfld      class [System.Transactions]System.Transactions.Transaction NSTM.NstmTransaction::txSystem
    ldarg.0   
    ldc.i4.0  
    callvirt   instance class [System.Transactions]System.Transactions.Enlistment [System.Transactions]System.Transactions.Transaction::EnlistVolatile(class [System.Transactions]System.Transactions.IEnlistmentNotification,
                                                                                                                                                       valuetype [System.Transactions]System.Transactions.EnlistmentOptions)
    pop       
    .line 46,46 : 9,10
    ret       
  }
  // End of method: NSTM.NstmTransaction/EnlistInSystemTransaction([System.Transactions]System.Transactions.Transaction txSystem) : void

  .method assembly hidebysig instance object
          LogRead(class NSTM.INstmObject  'instance',
                  valuetype NSTM.NstmReadOption readOption) cil managed
  {
    .maxstack 3
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 3 local(s), 0 handler(s), 4 child(ren), 0 sequence(s), 0-dc
      .locals init ( [1]  object CS$1$0000,
                     [2]  class NSTM.NstmTransaction CS$2$0001,
                     [3]  class NSTM.INstmObject CS$2$0002)
      // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-8

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-8 }
      .line 51,51 : 13,24  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
      ldarg.0   
      dup       
      stloc.2   
      call       void [mscorlib]System.Threading.Monitor::Enter(object)
      .try
      {
        // InstructionBlock 2 [], 0 local(s), 1 handler(s), 3 child(ren), 0 sequence(s), 8-d3
        // InstructionBlock 6 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 8-10

      IL_0001:
        // {InstructionSequence 1 Original, Range=8-10 }
        .line 53,53 : 17,32
        ldarg.1   
        dup       
        stloc.3   
        call       void [mscorlib]System.Threading.Monitor::Enter(object)
        .try
        {
          // InstructionBlock 7 [], 1 local(s), 1 handler(s), 0 child(ren), 14 sequence(s), 10-cc
          .locals init ( [0]  class NSTM.Infrastructure.NstmObjectTransactionLogEntry txEntry)

        IL_0002:
          // {InstructionSequence 2 Original, Range=10-25 }
          .line 55,55 : 21,143
          ldarg.0   
          ldfld      class NSTM.Infrastructure.TransactionLog NSTM.NstmTransaction::txLog
          ldarg.1   
          callvirt   instance class NSTM.Infrastructure.TransactionLogEntry NSTM.Infrastructure.TransactionLog::get_Item(object)
          castclass  NSTM.Infrastructure.NstmObjectTransactionLogEntry
          stloc.0   
          .line 56,56 : 21,41
          ldloc.0   
          brtrue.s   IL_0007

        IL_0003:
          // {InstructionSequence 3 Original, Range=25-48 }
          .line 58,58 : 25,99
          ldarg.1   
          newobj     instance void NSTM.Infrastructure.NstmObjectTransactionLogEntry::.ctor(class NSTM.INstmVersioned)
          stloc.0   
          .line 61,61 : 25,44
          ldarg.0   
          ldfld      class NSTM.Infrastructure.TransactionLog NSTM.NstmTransaction::txLog
          ldloc.0   
          callvirt   instance void NSTM.Infrastructure.TransactionLog::Add(class NSTM.Infrastructure.TransactionLogEntry)
          .line 62,62 : 25,57
          ldloc.0   
          ldarg.2   
          stfld      valuetype NSTM.NstmReadOption NSTM.Infrastructure.TransactionLogEntry::readOption
          .line 64,65 : 25,84
          ldloc.0   
          ldfld      valuetype NSTM.NstmReadOption NSTM.Infrastructure.TransactionLogEntry::readOption
          ldc.i4.2  
          beq.s      IL_0005

        IL_0004:
          // {InstructionSequence 4 Original, Range=48-51 }
          ldarg.0   
          ldfld      valuetype NSTM.NstmTransactionCloneMode NSTM.NstmTransaction::cloneMode
          ldc.i4.1  
          bne.un.s   IL_0006

        IL_0005:
          // {InstructionSequence 5 Original, Range=51-66 }
          .line 67,67 : 29,71
          ldloc.0   
          ldarg.1   
          callvirt   instance object NSTM.INstmObject::CloneValue()
          stfld      object NSTM.Infrastructure.NstmObjectTransactionLogEntry::tempValue
          .line 68,68 : 29,54
          ldloc.0   
          ldfld      object NSTM.Infrastructure.NstmObjectTransactionLogEntry::tempValue
          stloc.1   
          leave      IL_0012

        IL_0006:
          // {InstructionSequence 6 Original, Range=66-6f }
          .line 71,71 : 29,51
          ldarg.1   
          callvirt   instance object NSTM.INstmObject::get_Value()
          stloc.1   
          leave      IL_0012

        IL_0007:
          // {InstructionSequence 7 Original, Range=6f-78 }
          .line 74,74 : 21,57
          ldloc.0   
          ldfld      valuetype NSTM.NstmReadOption NSTM.Infrastructure.TransactionLogEntry::readOption
          ldarg.2   
          bge.s      IL_0009

        IL_0008:
          // {InstructionSequence 8 Original, Range=78-7f }
          .line 74,74 : 58,90
          ldloc.0   
          ldarg.2   
          stfld      valuetype NSTM.NstmReadOption NSTM.Infrastructure.TransactionLogEntry::readOption

        IL_0009:
          // {InstructionSequence 9 Original, Range=7f-87 }
          .line 78,78 : 21,51
          ldloc.0   
          ldfld      object NSTM.Infrastructure.NstmObjectTransactionLogEntry::tempValue
          brfalse.s  IL_000B

        IL_000A:
          // {InstructionSequence 10 Original, Range=87-90 }
          .line 79,79 : 25,50
          ldloc.0   
          ldfld      object NSTM.Infrastructure.NstmObjectTransactionLogEntry::tempValue
          stloc.1   
          leave.s    IL_0012

        IL_000B:
          // {InstructionSequence 11 Original, Range=90-9a }
          .line 82,82 : 25,73
          ldarg.0   
          ldarg.1   
          ldloc.0   
          call       instance bool NSTM.NstmTransaction::ValidateObjectValue(class NSTM.INstmVersioned,
                                                                             class NSTM.Infrastructure.TransactionLogEntry)
          brfalse.s  IL_000F

        IL_000C:
          // {InstructionSequence 12 Original, Range=9a-a3 }
          .line 84,84 : 29,80
          ldloc.0   
          ldfld      valuetype NSTM.NstmReadOption NSTM.Infrastructure.TransactionLogEntry::readOption
          ldc.i4.2  
          bne.un.s   IL_000E

        IL_000D:
          // {InstructionSequence 13 Original, Range=a3-b8 }
          .line 88,88 : 33,75
          ldloc.0   
          ldarg.1   
          callvirt   instance object NSTM.INstmObject::CloneValue()
          stfld      object NSTM.Infrastructure.NstmObjectTransactionLogEntry::tempValue
          .line 89,89 : 33,58
          ldloc.0   
          ldfld      object NSTM.Infrastructure.NstmObjectTransactionLogEntry::tempValue
          stloc.1   
          leave.s    IL_0012

        IL_000E:
          // {InstructionSequence 14 Original, Range=b8-c1 }
          .line 92,92 : 33,55
          ldarg.1   
          callvirt   instance object NSTM.INstmObject::get_Value()
          stloc.1   
          leave.s    IL_0012

        IL_000F:
          // {InstructionSequence 15 Original, Range=c1-cc }
          .line 95,95 : 29,254
          ldstr       "Cannot read NSTM transactional object value! Value has been changed by another transaction since it was last read. (Use isolation level 'ReadCommitted' to allow such changes to happen.)"
          newobj     instance void [mscorlib]System.InvalidOperationException::.ctor(string)
          throw     
        }
        finally
        {
          // InstructionBlock 8 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), cc-d3

        IL_0010:
          // {InstructionSequence 16 Original, Range=cc-d3 }
          .line 0x00feefee
          ldloc.3   
          call       void [mscorlib]System.Threading.Monitor::Exit(object)
          endfinally
        }
      }
      finally
      {
        // InstructionBlock 4 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), d3-da

      IL_0011:
        // {InstructionSequence 17 Original, Range=d3-da }
        ldloc.2   
        call       void [mscorlib]System.Threading.Monitor::Exit(object)
        endfinally
      }
      // InstructionBlock 5 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), da-dc

    IL_0012:
      // {InstructionSequence 18 Original, Range=da-dc }
      .line 99,99 : 9,10
      ldloc.1   
      ret       
    }
  }
  // End of method: NSTM.NstmTransaction/LogRead(NSTM.INstmObject instance, NSTM.NstmReadOption readOption) : object

  .method assembly hidebysig instance object
          LogRead(class NSTM.INstmVersioned  'instance',
                  string fieldname,
                  object currentValue) cil managed
  {
    .maxstack 3
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 3 local(s), 0 handler(s), 4 child(ren), 0 sequence(s), 0-d3
      .locals init ( [1]  object CS$1$0000,
                     [2]  class NSTM.NstmTransaction CS$2$0001,
                     [3]  class NSTM.INstmVersioned CS$2$0002)
      // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-8

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-8 }
      .line 105,105 : 13,24  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
      ldarg.0   
      dup       
      stloc.2   
      call       void [mscorlib]System.Threading.Monitor::Enter(object)
      .try
      {
        // InstructionBlock 2 [], 0 local(s), 1 handler(s), 3 child(ren), 0 sequence(s), 8-ca
        // InstructionBlock 6 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 8-10

      IL_0001:
        // {InstructionSequence 1 Original, Range=8-10 }
        .line 107,107 : 17,32
        ldarg.1   
        dup       
        stloc.3   
        call       void [mscorlib]System.Threading.Monitor::Enter(object)
        .try
        {
          // InstructionBlock 7 [], 1 local(s), 1 handler(s), 0 child(ren), 11 sequence(s), 10-c3
          .locals init ( [0]  class NSTM.Infrastructure.FieldlistTransactionLogEntry txEntry)

        IL_0002:
          // {InstructionSequence 2 Original, Range=10-25 }
          .line 109,109 : 21,141
          ldarg.0   
          ldfld      class NSTM.Infrastructure.TransactionLog NSTM.NstmTransaction::txLog
          ldarg.1   
          callvirt   instance class NSTM.Infrastructure.TransactionLogEntry NSTM.Infrastructure.TransactionLog::get_Item(object)
          castclass  NSTM.Infrastructure.FieldlistTransactionLogEntry
          stloc.0   
          .line 110,110 : 21,41
          ldloc.0   
          brtrue.s   IL_0006

        IL_0003:
          // {InstructionSequence 3 Original, Range=25-48 }
          .line 112,112 : 25,98
          ldarg.1   
          newobj     instance void NSTM.Infrastructure.FieldlistTransactionLogEntry::.ctor(class NSTM.INstmVersioned)
          stloc.0   
          .line 113,113 : 25,44
          ldarg.0   
          ldfld      class NSTM.Infrastructure.TransactionLog NSTM.NstmTransaction::txLog
          ldloc.0   
          callvirt   instance void NSTM.Infrastructure.TransactionLog::Add(class NSTM.Infrastructure.TransactionLogEntry)
          .line 114,114 : 25,70
          ldloc.0   
          ldc.i4.1  
          stfld      valuetype NSTM.NstmReadOption NSTM.Infrastructure.TransactionLogEntry::readOption
          .line 116,116 : 25,84
          ldarg.0   
          ldfld      valuetype NSTM.NstmTransactionCloneMode NSTM.NstmTransaction::cloneMode
          ldc.i4.1  
          bne.un.s   IL_0005

        IL_0004:
          // {InstructionSequence 4 Original, Range=48-64 }
          .line 119,119 : 29,82
          ldloc.0   
          ldfld      class [mscorlib]System.Collections.Generic.Dictionary`2<string, object> NSTM.Infrastructure.FieldlistTransactionLogEntry::tempFieldvalues
          ldarg.2   
          ldarg.3   
          callvirt   instance void class [mscorlib]System.Collections.Generic.Dictionary`2<string, object>::Add(!0,
                                                                                                                !1)
          .line 120,120 : 29,71
          ldloc.0   
          ldfld      class [mscorlib]System.Collections.Generic.Dictionary`2<string, object> NSTM.Infrastructure.FieldlistTransactionLogEntry::tempFieldvalues
          ldarg.2   
          callvirt   instance !1 class [mscorlib]System.Collections.Generic.Dictionary`2<string, object>::get_Item(!0)
          stloc.1   
          leave      IL_000F

        IL_0005:
          // {InstructionSequence 5 Original, Range=64-68 }
          .line 123,123 : 29,49
          ldarg.3   
          stloc.1   
          leave      IL_000F

        IL_0006:
          // {InstructionSequence 6 Original, Range=68-76 }
          .line 126,126 : 21,72
          ldloc.0   
          ldfld      class [mscorlib]System.Collections.Generic.Dictionary`2<string, object> NSTM.Infrastructure.FieldlistTransactionLogEntry::tempFieldvalues
          ldarg.2   
          callvirt   instance bool class [mscorlib]System.Collections.Generic.Dictionary`2<string, object>::ContainsKey(!0)
          brfalse.s  IL_0008

        IL_0007:
          // {InstructionSequence 7 Original, Range=76-85 }
          .line 127,127 : 25,67
          ldloc.0   
          ldfld      class [mscorlib]System.Collections.Generic.Dictionary`2<string, object> NSTM.Infrastructure.FieldlistTransactionLogEntry::tempFieldvalues
          ldarg.2   
          callvirt   instance !1 class [mscorlib]System.Collections.Generic.Dictionary`2<string, object>::get_Item(!0)
          stloc.1   
          leave.s    IL_000F

        IL_0008:
          // {InstructionSequence 8 Original, Range=85-8f }
          .line 130,130 : 25,73
          ldarg.0   
          ldarg.1   
          ldloc.0   
          call       instance bool NSTM.NstmTransaction::ValidateObjectValue(class NSTM.INstmVersioned,
                                                                             class NSTM.Infrastructure.TransactionLogEntry)
          brfalse.s  IL_000C

        IL_0009:
          // {InstructionSequence 9 Original, Range=8f-98 }
          .line 132,132 : 29,80
          ldloc.0   
          ldfld      valuetype NSTM.NstmReadOption NSTM.Infrastructure.TransactionLogEntry::readOption
          ldc.i4.2  
          bne.un.s   IL_000B

        IL_000A:
          // {InstructionSequence 10 Original, Range=98-b4 }
          .line 137,137 : 33,86
          ldloc.0   
          ldfld      class [mscorlib]System.Collections.Generic.Dictionary`2<string, object> NSTM.Infrastructure.FieldlistTransactionLogEntry::tempFieldvalues
          ldarg.2   
          ldarg.3   
          callvirt   instance void class [mscorlib]System.Collections.Generic.Dictionary`2<string, object>::Add(!0,
                                                                                                                !1)
          .line 138,138 : 33,75
          ldloc.0   
          ldfld      class [mscorlib]System.Collections.Generic.Dictionary`2<string, object> NSTM.Infrastructure.FieldlistTransactionLogEntry::tempFieldvalues
          ldarg.2   
          callvirt   instance !1 class [mscorlib]System.Collections.Generic.Dictionary`2<string, object>::get_Item(!0)
          stloc.1   
          leave.s    IL_000F

        IL_000B:
          // {InstructionSequence 11 Original, Range=b4-b8 }
          .line 141,141 : 33,53
          ldarg.3   
          stloc.1   
          leave.s    IL_000F

        IL_000C:
          // {InstructionSequence 12 Original, Range=b8-c3 }
          .line 144,144 : 29,254
          ldstr       "Cannot read NSTM transactional object value! Value has been changed by another transaction since it was last read. (Use isolation level 'ReadCommitted' to allow such changes to happen.)"
          newobj     instance void [mscorlib]System.InvalidOperationException::.ctor(string)
          throw     
        }
        finally
        {
          // InstructionBlock 8 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), c3-ca

        IL_000D:
          // {InstructionSequence 13 Original, Range=c3-ca }
          .line 0x00feefee
          ldloc.3   
          call       void [mscorlib]System.Threading.Monitor::Exit(object)
          endfinally
        }
      }
      finally
      {
        // InstructionBlock 4 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), ca-d1

      IL_000E:
        // {InstructionSequence 14 Original, Range=ca-d1 }
        ldloc.2   
        call       void [mscorlib]System.Threading.Monitor::Exit(object)
        endfinally
      }
      // InstructionBlock 5 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), d1-d3

    IL_000F:
      // {InstructionSequence 15 Original, Range=d1-d3 }
      .line 148,148 : 9,10
      ldloc.1   
      ret       
    }
  }
  // End of method: NSTM.NstmTransaction/LogRead(NSTM.INstmVersioned instance, string fieldname, object currentValue) : object

  .method private hidebysig instance bool
          ValidateObjectValue(class NSTM.INstmVersioned o,
                              class NSTM.Infrastructure.TransactionLogEntry txEntry) cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 6 sequence(s), 0-25

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-9 }
    .line 153,153 : 13,142  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
    ldarg.0   
    ldfld      valuetype NSTM.NstmTransactionIsolationLevel NSTM.NstmTransaction::isolationLevel
    ldc.i4.1  
    bne.un.s   IL_0005

  IL_0001:
    // {InstructionSequence 1 Original, Range=9-11 }
    ldarg.0   
    ldfld      valuetype NSTM.NstmTransactionCloneMode NSTM.NstmTransaction::cloneMode
    brtrue.s   IL_0005

  IL_0002:
    // {InstructionSequence 2 Original, Range=11-1f }
    .line 156,156 : 17,50
    ldarg.1   
    callvirt   instance int64 NSTM.INstmVersioned::get_Version()
    ldarg.2   
    ldfld      int64 NSTM.Infrastructure.TransactionLogEntry::version
    bne.un.s   IL_0004

  IL_0003:
    // {InstructionSequence 3 Original, Range=1f-21 }
    .line 157,157 : 21,33
    ldc.i4.1  
    ret       

  IL_0004:
    // {InstructionSequence 4 Original, Range=21-23 }
    .line 159,159 : 21,34
    ldc.i4.0  
    ret       

  IL_0005:
    // {InstructionSequence 5 Original, Range=23-25 }
    .line 163,163 : 17,29
    ldc.i4.1  
    ret       
  }
  // End of method: NSTM.NstmTransaction/ValidateObjectValue(NSTM.INstmVersioned o, NSTM.Infrastructure.TransactionLogEntry txEntry) : bool

  .method assembly hidebysig instance void
          LogWrite(class NSTM.INstmObject  'instance',
                   object newValue) cil managed
  {
    .maxstack 2
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 2 local(s), 0 handler(s), 4 child(ren), 0 sequence(s), 0-59
      .locals init ( [1]  class NSTM.NstmTransaction CS$2$0000,
                     [2]  class NSTM.INstmObject CS$2$0001)
      // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-8

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-8 }
      .line 169,169 : 13,24  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
      ldarg.0   
      dup       
      stloc.1   
      call       void [mscorlib]System.Threading.Monitor::Enter(object)
      .try
      {
        // InstructionBlock 2 [], 0 local(s), 1 handler(s), 2 child(ren), 0 sequence(s), 8-51
        {
          // InstructionBlock 11 [], 1 local(s), 0 handler(s), 4 child(ren), 0 sequence(s), 8-4f
          .locals init ( [0]  class NSTM.Infrastructure.NstmObjectTransactionLogEntry txEntry)
          // InstructionBlock 6 [], 0 local(s), 0 handler(s), 0 child(ren), 2 sequence(s), 8-25

        IL_0001:
          // {InstructionSequence 1 Original, Range=8-1d }
          .line 171,171 : 17,139
          ldarg.0   
          ldfld      class NSTM.Infrastructure.TransactionLog NSTM.NstmTransaction::txLog
          ldarg.1   
          callvirt   instance class NSTM.Infrastructure.TransactionLogEntry NSTM.Infrastructure.TransactionLog::get_Item(object)
          castclass  NSTM.Infrastructure.NstmObjectTransactionLogEntry
          stloc.0   
          .line 172,172 : 17,37
          ldloc.0   
          brtrue.s   IL_0005

        IL_0002:
          // {InstructionSequence 2 Original, Range=1d-25 }
          .line 173,173 : 21,36
          ldarg.1   
          dup       
          stloc.2   
          call       void [mscorlib]System.Threading.Monitor::Enter(object)
          .try
          {
            // InstructionBlock 7 [], 0 local(s), 1 handler(s), 0 child(ren), 1 sequence(s), 25-3a

          IL_0003:
            // {InstructionSequence 3 Original, Range=25-3a }
            .line 175,175 : 25,94
            ldarg.1   
            newobj     instance void NSTM.Infrastructure.NstmObjectTransactionLogEntry::.ctor(class NSTM.INstmVersioned)
            stloc.0   
            .line 176,176 : 25,44
            ldarg.0   
            ldfld      class NSTM.Infrastructure.TransactionLog NSTM.NstmTransaction::txLog
            ldloc.0   
            callvirt   instance void NSTM.Infrastructure.TransactionLog::Add(class NSTM.Infrastructure.TransactionLogEntry)
            .line 0x00feefee
            leave.s    IL_0005
          }
          finally
          {
            // InstructionBlock 9 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 3a-41

          IL_0004:
            // {InstructionSequence 4 Original, Range=3a-41 }
            ldloc.2   
            call       void [mscorlib]System.Threading.Monitor::Exit(object)
            endfinally
          }
          // InstructionBlock 12 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 41-4f

        IL_0005:
          // {InstructionSequence 5 Original, Range=41-4f }
          .line 179,179 : 17,63
          ldloc.0   
          ldc.i4.2  
          stfld      valuetype NSTM.NstmReadOption NSTM.Infrastructure.TransactionLogEntry::readOption
          .line 180,180 : 17,46
          ldloc.0   
          ldarg.2   
          stfld      object NSTM.Infrastructure.NstmObjectTransactionLogEntry::tempValue
        }
        // InstructionBlock 13 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 4f-51

      IL_0006:
        // {InstructionSequence 6 Original, Range=4f-51 }
        .line 0x00feefee
        leave.s    IL_0008
      }
      finally
      {
        // InstructionBlock 4 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 51-58

      IL_0007:
        // {InstructionSequence 7 Original, Range=51-58 }
        ldloc.1   
        call       void [mscorlib]System.Threading.Monitor::Exit(object)
        endfinally
      }
      // InstructionBlock 5 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 58-59

    IL_0008:
      // {InstructionSequence 8 Original, Range=58-59 }
      .line 182,182 : 9,10
      ret       
    }
  }
  // End of method: NSTM.NstmTransaction/LogWrite(NSTM.INstmObject instance, object newValue) : void

  .method assembly hidebysig instance void
          LogWrite(class NSTM.INstmVersioned  'instance',
                   string fieldname,
                   object newValue) cil managed
  {
    .maxstack 3
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 2 local(s), 0 handler(s), 4 child(ren), 0 sequence(s), 0-5f
      .locals init ( [1]  class NSTM.NstmTransaction CS$2$0000,
                     [2]  class NSTM.INstmVersioned CS$2$0001)
      // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-8

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-8 }
      .line 188,188 : 13,24  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
      ldarg.0   
      dup       
      stloc.1   
      call       void [mscorlib]System.Threading.Monitor::Enter(object)
      .try
      {
        // InstructionBlock 2 [], 0 local(s), 1 handler(s), 2 child(ren), 0 sequence(s), 8-57
        {
          // InstructionBlock 11 [], 1 local(s), 0 handler(s), 4 child(ren), 0 sequence(s), 8-55
          .locals init ( [0]  class NSTM.Infrastructure.FieldlistTransactionLogEntry txEntry)
          // InstructionBlock 6 [], 0 local(s), 0 handler(s), 0 child(ren), 2 sequence(s), 8-25

        IL_0001:
          // {InstructionSequence 1 Original, Range=8-1d }
          .line 190,190 : 17,137
          ldarg.0   
          ldfld      class NSTM.Infrastructure.TransactionLog NSTM.NstmTransaction::txLog
          ldarg.1   
          callvirt   instance class NSTM.Infrastructure.TransactionLogEntry NSTM.Infrastructure.TransactionLog::get_Item(object)
          castclass  NSTM.Infrastructure.FieldlistTransactionLogEntry
          stloc.0   
          .line 191,191 : 17,37
          ldloc.0   
          brtrue.s   IL_0005

        IL_0002:
          // {InstructionSequence 2 Original, Range=1d-25 }
          .line 192,192 : 21,36
          ldarg.1   
          dup       
          stloc.2   
          call       void [mscorlib]System.Threading.Monitor::Enter(object)
          .try
          {
            // InstructionBlock 7 [], 0 local(s), 1 handler(s), 0 child(ren), 1 sequence(s), 25-3a

          IL_0003:
            // {InstructionSequence 3 Original, Range=25-3a }
            .line 194,194 : 25,98
            ldarg.1   
            newobj     instance void NSTM.Infrastructure.FieldlistTransactionLogEntry::.ctor(class NSTM.INstmVersioned)
            stloc.0   
            .line 195,195 : 25,44
            ldarg.0   
            ldfld      class NSTM.Infrastructure.TransactionLog NSTM.NstmTransaction::txLog
            ldloc.0   
            callvirt   instance void NSTM.Infrastructure.TransactionLog::Add(class NSTM.Infrastructure.TransactionLogEntry)
            .line 0x00feefee
            leave.s    IL_0005
          }
          finally
          {
            // InstructionBlock 9 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 3a-41

          IL_0004:
            // {InstructionSequence 4 Original, Range=3a-41 }
            ldloc.2   
            call       void [mscorlib]System.Threading.Monitor::Exit(object)
            endfinally
          }
          // InstructionBlock 12 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 41-55

        IL_0005:
          // {InstructionSequence 5 Original, Range=41-55 }
          .line 197,197 : 17,63
          ldloc.0   
          ldc.i4.2  
          stfld      valuetype NSTM.NstmReadOption NSTM.Infrastructure.TransactionLogEntry::readOption
          .line 198,198 : 17,63
          ldloc.0   
          ldfld      class [mscorlib]System.Collections.Generic.Dictionary`2<string, object> NSTM.Infrastructure.FieldlistTransactionLogEntry::tempFieldvalues
          ldarg.2   
          ldarg.3   
          callvirt   instance void class [mscorlib]System.Collections.Generic.Dictionary`2<string, object>::set_Item(!0,
                                                                                                                     !1)
        }
        // InstructionBlock 13 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 55-57

      IL_0006:
        // {InstructionSequence 6 Original, Range=55-57 }
        .line 0x00feefee
        leave.s    IL_0008
      }
      finally
      {
        // InstructionBlock 4 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 57-5e

      IL_0007:
        // {InstructionSequence 7 Original, Range=57-5e }
        ldloc.1   
        call       void [mscorlib]System.Threading.Monitor::Exit(object)
        endfinally
      }
      // InstructionBlock 5 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 5e-5f

    IL_0008:
      // {InstructionSequence 8 Original, Range=5e-5f }
      .line 200,200 : 9,10
      ret       
    }
  }
  // End of method: NSTM.NstmTransaction/LogWrite(NSTM.INstmVersioned instance, string fieldname, object newValue) : void

  .method assembly hidebysig instance void
          LogWrite(class NSTM.INstmVersioned  'instance',
                   class [mscorlib]System.Collections.Generic.Dictionary`2<string, object> newFieldValues) cil managed
  {
    .maxstack 2
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 2 local(s), 0 handler(s), 4 child(ren), 0 sequence(s), 0-59
      .locals init ( [1]  class NSTM.NstmTransaction CS$2$0000,
                     [2]  class NSTM.INstmVersioned CS$2$0001)
      // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-8

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-8 }
      .line 204,204 : 13,24  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
      ldarg.0   
      dup       
      stloc.1   
      call       void [mscorlib]System.Threading.Monitor::Enter(object)
      .try
      {
        // InstructionBlock 2 [], 0 local(s), 1 handler(s), 2 child(ren), 0 sequence(s), 8-51
        {
          // InstructionBlock 11 [], 1 local(s), 0 handler(s), 4 child(ren), 0 sequence(s), 8-4f
          .locals init ( [0]  class NSTM.Infrastructure.FieldlistTransactionLogEntry txEntry)
          // InstructionBlock 6 [], 0 local(s), 0 handler(s), 0 child(ren), 2 sequence(s), 8-25

        IL_0001:
          // {InstructionSequence 1 Original, Range=8-1d }
          .line 206,206 : 17,137
          ldarg.0   
          ldfld      class NSTM.Infrastructure.TransactionLog NSTM.NstmTransaction::txLog
          ldarg.1   
          callvirt   instance class NSTM.Infrastructure.TransactionLogEntry NSTM.Infrastructure.TransactionLog::get_Item(object)
          castclass  NSTM.Infrastructure.FieldlistTransactionLogEntry
          stloc.0   
          .line 207,207 : 17,37
          ldloc.0   
          brtrue.s   IL_0005

        IL_0002:
          // {InstructionSequence 2 Original, Range=1d-25 }
          .line 208,208 : 21,36
          ldarg.1   
          dup       
          stloc.2   
          call       void [mscorlib]System.Threading.Monitor::Enter(object)
          .try
          {
            // InstructionBlock 7 [], 0 local(s), 1 handler(s), 0 child(ren), 1 sequence(s), 25-3a

          IL_0003:
            // {InstructionSequence 3 Original, Range=25-3a }
            .line 210,210 : 25,98
            ldarg.1   
            newobj     instance void NSTM.Infrastructure.FieldlistTransactionLogEntry::.ctor(class NSTM.INstmVersioned)
            stloc.0   
            .line 211,211 : 25,44
            ldarg.0   
            ldfld      class NSTM.Infrastructure.TransactionLog NSTM.NstmTransaction::txLog
            ldloc.0   
            callvirt   instance void NSTM.Infrastructure.TransactionLog::Add(class NSTM.Infrastructure.TransactionLogEntry)
            .line 0x00feefee
            leave.s    IL_0005
          }
          finally
          {
            // InstructionBlock 9 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 3a-41

          IL_0004:
            // {InstructionSequence 4 Original, Range=3a-41 }
            ldloc.2   
            call       void [mscorlib]System.Threading.Monitor::Exit(object)
            endfinally
          }
          // InstructionBlock 12 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 41-4f

        IL_0005:
          // {InstructionSequence 5 Original, Range=41-4f }
          .line 213,213 : 17,63
          ldloc.0   
          ldc.i4.2  
          stfld      valuetype NSTM.NstmReadOption NSTM.Infrastructure.TransactionLogEntry::readOption
          .line 214,214 : 17,58
          ldloc.0   
          ldarg.2   
          stfld      class [mscorlib]System.Collections.Generic.Dictionary`2<string, object> NSTM.Infrastructure.FieldlistTransactionLogEntry::tempFieldvalues
        }
        // InstructionBlock 13 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 4f-51

      IL_0006:
        // {InstructionSequence 6 Original, Range=4f-51 }
        .line 0x00feefee
        leave.s    IL_0008
      }
      finally
      {
        // InstructionBlock 4 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 51-58

      IL_0007:
        // {InstructionSequence 7 Original, Range=51-58 }
        ldloc.1   
        call       void [mscorlib]System.Threading.Monitor::Exit(object)
        endfinally
      }
      // InstructionBlock 5 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 58-59

    IL_0008:
      // {InstructionSequence 8 Original, Range=58-59 }
      .line 216,216 : 9,10
      ret       
    }
  }
  // End of method: NSTM.NstmTransaction/LogWrite(NSTM.INstmVersioned instance, [mscorlib]System.Collections.Generic.Dictionary`2<string,object> newFieldValues) : void

  .method assembly hidebysig specialname
          instance int32 get_LogCount() cil managed
  {
    .maxstack 2
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 2 local(s), 0 handler(s), 4 child(ren), 0 sequence(s), 0-1f
      .locals init ( [0]  int32 CS$1$0000,
                     [1]  class NSTM.NstmTransaction CS$2$0001)
      // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-8

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-8 }
      .line 223,223 : 17,28  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
      ldarg.0   
      dup       
      stloc.1   
      call       void [mscorlib]System.Threading.Monitor::Enter(object)
      .try
      {
        // InstructionBlock 2 [], 0 local(s), 1 handler(s), 0 child(ren), 1 sequence(s), 8-16

      IL_0001:
        // {InstructionSequence 1 Original, Range=8-16 }
        .line 225,225 : 21,45
        ldarg.0   
        ldfld      class NSTM.Infrastructure.TransactionLog NSTM.NstmTransaction::txLog
        callvirt   instance int32 NSTM.Infrastructure.TransactionLog::get_Count()
        stloc.0   
        leave.s    IL_0003
      }
      finally
      {
        // InstructionBlock 4 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 16-1d

      IL_0002:
        // {InstructionSequence 2 Original, Range=16-1d }
        .line 0x00feefee
        ldloc.1   
        call       void [mscorlib]System.Threading.Monitor::Exit(object)
        endfinally
      }
      // InstructionBlock 5 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 1d-1f

    IL_0003:
      // {InstructionSequence 3 Original, Range=1d-1f }
      .line 227,227 : 13,14
      ldloc.0   
      ret       
    }
  }
  // End of method: NSTM.NstmTransaction/get_LogCount() : int32

  .method assembly hidebysig specialname
          instance class [System.Transactions]System.Transactions.Transaction
          get_SystemTransaction() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-7

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-7 }
    .line 235,235 : 17,38  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
    ldarg.0   
    ldfld      class [System.Transactions]System.Transactions.Transaction NSTM.NstmTransaction::txSystem
    ret       
  }
  // End of method: NSTM.NstmTransaction/get_SystemTransaction() : [System.Transactions]System.Transactions.Transaction

  .method public hidebysig newslot specialname virtual final
          instance valuetype NSTM.NstmTransactionIsolationLevel
          get_IsolationLevel() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-7

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-7 }
    .line 244,244 : 19,46  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
    ldarg.0   
    ldfld      valuetype NSTM.NstmTransactionIsolationLevel NSTM.NstmTransaction::isolationLevel
    ret       
  }
  // End of method: NSTM.NstmTransaction/get_IsolationLevel() : NSTM.NstmTransactionIsolationLevel

  .method public hidebysig newslot specialname virtual final
          instance valuetype NSTM.NstmTransactionCloneMode
          get_CloneMode() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-7

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-7 }
    .line 249,249 : 19,41  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
    ldarg.0   
    ldfld      valuetype NSTM.NstmTransactionCloneMode NSTM.NstmTransaction::cloneMode
    ret       
  }
  // End of method: NSTM.NstmTransaction/get_CloneMode() : NSTM.NstmTransactionCloneMode

  .method public hidebysig newslot specialname virtual final
          instance valuetype NSTM.NstmTransactionActivityMode
          get_ActivityMode() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-7

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-7 }
    .line 254,254 : 19,44  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
    ldarg.0   
    ldfld      valuetype NSTM.NstmTransactionActivityMode NSTM.NstmTransaction::activityMode
    ret       
  }
  // End of method: NSTM.NstmTransaction/get_ActivityMode() : NSTM.NstmTransactionActivityMode

  .method public hidebysig newslot specialname virtual final
          instance bool get_IsNested() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-d

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-d }
    .line 259,259 : 19,48  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
    ldarg.0   
    ldfld      class NSTM.NstmTransaction NSTM.NstmTransaction::txParent
    ldnull    
    ceq       
    ldc.i4.0  
    ceq       
    ret       
  }
  // End of method: NSTM.NstmTransaction/get_IsNested() : bool

  .method public hidebysig newslot virtual final
          instance void Commit() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-9

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-9 }
    .line 265,265 : 13,31  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
    ldarg.0   
    ldc.i4.1  
    call       instance bool NSTM.NstmTransaction::Commit(bool)
    pop       
    .line 266,266 : 9,10
    ret       
  }
  // End of method: NSTM.NstmTransaction/Commit() : void

  .method public hidebysig newslot virtual final
          instance bool Commit(bool throwExceptionOnFailure) cil managed
  {
    .maxstack 2
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 2 local(s), 0 handler(s), 4 child(ren), 0 sequence(s), 0-32
      .locals init ( [0]  bool CS$1$0000,
                     [1]  class NSTM.NstmTransaction CS$2$0001)
      // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 2 sequence(s), 0-10

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-8 }
      .line 270,270 : 13,73  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
      ldarg.0   
      ldfld      valuetype NSTM.NstmTransactionActivityMode NSTM.NstmTransaction::activityMode
      brtrue.s   IL_0007

    IL_0001:
      // {InstructionSequence 1 Original, Range=8-10 }
      .line 272,272 : 17,28
      ldarg.0   
      dup       
      stloc.1   
      call       void [mscorlib]System.Threading.Monitor::Enter(object)
      .try
      {
        // InstructionBlock 2 [], 0 local(s), 1 handler(s), 0 child(ren), 4 sequence(s), 10-27

      IL_0002:
        // {InstructionSequence 2 Original, Range=10-19 }
        .line 274,274 : 21,73
        ldarg.0   
        ldarg.1   
        call       instance bool NSTM.NstmTransaction::PrepareLogEntries(bool)
        brfalse.s  IL_0004

      IL_0003:
        // {InstructionSequence 3 Original, Range=19-21 }
        .line 275,275 : 25,49
        ldarg.0   
        call       instance void NSTM.NstmTransaction::CommitLogEntries()
        .line 0x00feefee
        br.s       IL_0005

      IL_0004:
        // {InstructionSequence 4 Original, Range=21-25 }
        .line 277,277 : 25,38
        ldc.i4.0  
        stloc.0   
        leave.s    IL_0008

      IL_0005:
        // {InstructionSequence 5 Original, Range=25-27 }
        .line 0x00feefee
        leave.s    IL_0007
      }
      finally
      {
        // InstructionBlock 4 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 27-2e

      IL_0006:
        // {InstructionSequence 6 Original, Range=27-2e }
        ldloc.1   
        call       void [mscorlib]System.Threading.Monitor::Exit(object)
        endfinally
      }
      // InstructionBlock 5 [], 0 local(s), 0 handler(s), 0 child(ren), 2 sequence(s), 2e-32

    IL_0007:
      // {InstructionSequence 7 Original, Range=2e-30 }
      .line 281,281 : 13,25
      ldc.i4.1  
      ret       

    IL_0008:
      // {InstructionSequence 8 Original, Range=30-32 }
      .line 282,282 : 9,10
      ldloc.0   
      ret       
    }
  }
  // End of method: NSTM.NstmTransaction/Commit(bool throwExceptionOnFailure) : bool

  .method private hidebysig instance bool
          PrepareLogEntries(bool throwExceptionOnFailure) cil managed
  {
    .maxstack 4
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 5 local(s), 0 handler(s), 4 child(ren), 0 sequence(s), 0-b0
      .locals init ( [0]  class NSTM.Infrastructure.ThreadTransactionStack txStack,
                     [2]  bool CS$1$0000,
                     [3]  class NSTM.NstmTransaction CS$2$0001,
                     [4]  class [mscorlib]System.Collections.Generic.IEnumerator`1<class NSTM.Infrastructure.TransactionLogEntry> CS$5$0002,
                     [5]  valuetype NSTM.NstmReadOption CS$0$0003)
      // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 5 sequence(s), 0-27

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-f }
      .line 287,287 : 13,110  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
      newobj     instance void NSTM.Infrastructure.ThreadTransactionStack::.ctor()
      stloc.0   
      .line 288,288 : 13,40
      ldloc.0   
      callvirt   instance class NSTM.NstmTransaction NSTM.Infrastructure.ThreadTransactionStack::Peek()
      ldarg.0   
      beq.s      IL_0004

    IL_0001:
      // {InstructionSequence 1 Original, Range=f-12 }
      .line 289,289 : 17,45
      ldarg.1   
      brfalse.s  IL_0003

    IL_0002:
      // {InstructionSequence 2 Original, Range=12-1d }
      .line 290,290 : 21,254
      ldstr       "NSTM transaction to be committed is not the current transaction! Check for overlapping transaction Commit()/Abort(). Recommendation: Create transactions within the scope of a using() statement."
      newobj     instance void [mscorlib]System.InvalidOperationException::.ctor(string)
      throw     

    IL_0003:
      // {InstructionSequence 3 Original, Range=1d-1f }
      .line 292,292 : 21,34
      ldc.i4.0  
      ret       

    IL_0004:
      // {InstructionSequence 4 Original, Range=1f-27 }
      .line 294,294 : 13,24
      ldarg.0   
      dup       
      stloc.3   
      call       void [mscorlib]System.Threading.Monitor::Enter(object)
      .try
      {
        // InstructionBlock 2 [], 0 local(s), 1 handler(s), 4 child(ren), 0 sequence(s), 27-a5
        // InstructionBlock 6 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 27-39

      IL_0005:
        // {InstructionSequence 5 Original, Range=27-39 }
        .line 297,297 : 73,97
        ldarg.0   
        ldfld      class NSTM.Infrastructure.TransactionLog NSTM.NstmTransaction::txLog
        callvirt   instance class [mscorlib]System.Collections.Generic.ICollection`1<class NSTM.Infrastructure.TransactionLogEntry> NSTM.Infrastructure.TransactionLog::get_SortedEntries()
        callvirt   instance class [mscorlib]System.Collections.Generic.IEnumerator`1<!0> class [mscorlib]System.Collections.Generic.IEnumerable`1<class NSTM.Infrastructure.TransactionLogEntry>::GetEnumerator()
        stloc.s    CS$5$0002
        .try
        {
          // InstructionBlock 7 [], 0 local(s), 1 handler(s), 2 child(ren), 0 sequence(s), 39-90
          {
            // InstructionBlock 11 [], 1 local(s), 0 handler(s), 0 child(ren), 9 sequence(s), 39-8e
            .locals init ( [1]  class NSTM.Infrastructure.TransactionLogEntry logEntry)

          IL_0006:
            // {InstructionSequence 6 Original, Range=39-3b }
            .line 0x00feefee
            br.s       IL_000E

          IL_0007:
            // {InstructionSequence 7 Original, Range=3b-5e }
            .line 297,297 : 26,69
            ldloc.s    CS$5$0002
            callvirt   instance !0 class [mscorlib]System.Collections.Generic.IEnumerator`1<class NSTM.Infrastructure.TransactionLogEntry>::get_Current()
            stloc.1   
            .line 299,299 : 21,49
            ldloc.1   
            ldfld      valuetype NSTM.NstmReadOption NSTM.Infrastructure.TransactionLogEntry::readOption
            stloc.s    CS$0$0003
            ldloc.s    CS$0$0003
            switch    (
                       IL_000E,
                       IL_0009,
                       IL_000B)

          IL_0008:
            // {InstructionSequence 8 Original, Range=5e-60 }
            br.s       IL_000E

          IL_0009:
            // {InstructionSequence 9 Original, Range=60-6b }
            .line 306,306 : 29,93
            ldarg.0   
            ldloc.1   
            ldarg.1   
            ldc.i4.0  
            call       instance bool NSTM.NstmTransaction::ValidateLogEntry(class NSTM.Infrastructure.TransactionLogEntry,
                                                                            bool,
                                                                            bool)
            brtrue.s   IL_000E

          IL_000A:
            // {InstructionSequence 10 Original, Range=6b-6f }
            .line 307,307 : 33,46
            ldc.i4.0  
            stloc.2   
            leave.s    IL_0016

          IL_000B:
            // {InstructionSequence 11 Original, Range=6f-7a }
            .line 311,311 : 29,92
            ldarg.0   
            ldloc.1   
            ldarg.1   
            ldc.i4.1  
            call       instance bool NSTM.NstmTransaction::ValidateLogEntry(class NSTM.Infrastructure.TransactionLogEntry,
                                                                            bool,
                                                                            bool)
            brtrue.s   IL_000D

          IL_000C:
            // {InstructionSequence 12 Original, Range=7a-7e }
            .line 312,312 : 33,46
            ldc.i4.0  
            stloc.2   
            leave.s    IL_0016

          IL_000D:
            // {InstructionSequence 13 Original, Range=7e-85 }
            .line 313,313 : 29,54
            ldloc.1   
            ldc.i4.1  
            stfld      bool NSTM.Infrastructure.TransactionLogEntry::isLocked

          IL_000E:
            // {InstructionSequence 14 Original, Range=85-8e }
            .line 297,297 : 70,72
            ldloc.s    CS$5$0002
            callvirt   instance bool [mscorlib]System.Collections.IEnumerator::MoveNext()
            brtrue.s   IL_0007
          }
          // InstructionBlock 12 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 8e-90

        IL_000F:
          // {InstructionSequence 15 Original, Range=8e-90 }
          .line 0x00feefee
          leave.s    IL_0013
        }
        finally
        {
          // InstructionBlock 9 [], 0 local(s), 0 handler(s), 0 child(ren), 3 sequence(s), 90-9c

        IL_0010:
          // {InstructionSequence 16 Original, Range=90-94 }
          ldloc.s    CS$5$0002
          brfalse.s  IL_0012

        IL_0011:
          // {InstructionSequence 17 Original, Range=94-9b }
          ldloc.s    CS$5$0002
          callvirt   instance void [mscorlib]System.IDisposable::Dispose()

        IL_0012:
          // {InstructionSequence 18 Original, Range=9b-9c }
          endfinally
        }
        // InstructionBlock 10 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 9c-a5

      IL_0013:
        // {InstructionSequence 19 Original, Range=9c-a5 }
        .line 320,320 : 17,76
        ldarg.0   
        ldc.i4.1  
        stfld      valuetype NSTM.NstmTransactionActivityMode NSTM.NstmTransaction::activityMode
        .line 0x00feefee
        leave.s    IL_0015
      }
      finally
      {
        // InstructionBlock 4 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), a5-ac

      IL_0014:
        // {InstructionSequence 20 Original, Range=a5-ac }
        ldloc.3   
        call       void [mscorlib]System.Threading.Monitor::Exit(object)
        endfinally
      }
      // InstructionBlock 5 [], 0 local(s), 0 handler(s), 0 child(ren), 2 sequence(s), ac-b0

    IL_0015:
      // {InstructionSequence 21 Original, Range=ac-ae }
      .line 323,323 : 13,25
      ldc.i4.1  
      ret       

    IL_0016:
      // {InstructionSequence 22 Original, Range=ae-b0 }
      .line 324,324 : 9,10
      ldloc.2   
      ret       
    }
  }
  // End of method: NSTM.NstmTransaction/PrepareLogEntries(bool throwExceptionOnFailure) : bool

  .method private hidebysig instance void
          CommitLogEntries() cil managed
  {
    .maxstack 3
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 2 local(s), 0 handler(s), 4 child(ren), 0 sequence(s), 0-cf
      .locals init ( [1]  class NSTM.NstmTransaction CS$2$0000,
                     [2]  class [mscorlib]System.Collections.Generic.IEnumerator`1<class NSTM.Infrastructure.TransactionLogEntry> CS$5$0001)
      // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-8

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-8 }
      .line 329,329 : 13,24  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
      ldarg.0   
      dup       
      stloc.1   
      call       void [mscorlib]System.Threading.Monitor::Enter(object)
      .try
      {
        // InstructionBlock 2 [], 0 local(s), 1 handler(s), 4 child(ren), 0 sequence(s), 8-c7
        // InstructionBlock 6 [], 0 local(s), 0 handler(s), 0 child(ren), 2 sequence(s), 8-25

      IL_0001:
        // {InstructionSequence 1 Original, Range=8-14 }
        .line 331,331 : 17,81
        ldarg.0   
        ldfld      valuetype NSTM.NstmTransactionActivityMode NSTM.NstmTransaction::activityMode
        ldc.i4.1  
        bne.un     IL_0011

      IL_0002:
        // {InstructionSequence 2 Original, Range=14-25 }
        .line 336,336 : 77,101
        ldarg.0   
        ldfld      class NSTM.Infrastructure.TransactionLog NSTM.NstmTransaction::txLog
        callvirt   instance class [mscorlib]System.Collections.Generic.ICollection`1<class NSTM.Infrastructure.TransactionLogEntry> NSTM.Infrastructure.TransactionLog::get_SortedEntries()
        callvirt   instance class [mscorlib]System.Collections.Generic.IEnumerator`1<!0> class [mscorlib]System.Collections.Generic.IEnumerable`1<class NSTM.Infrastructure.TransactionLogEntry>::GetEnumerator()
        stloc.2   
        .try
        {
          // InstructionBlock 7 [], 0 local(s), 1 handler(s), 2 child(ren), 0 sequence(s), 25-a9
          {
            // InstructionBlock 11 [], 1 local(s), 0 handler(s), 0 child(ren), 9 sequence(s), 25-a7
            .locals init ( [0]  class NSTM.Infrastructure.TransactionLogEntry logEntry)

          IL_0003:
            // {InstructionSequence 3 Original, Range=25-27 }
            .line 0x00feefee
            br         IL_000B

          IL_0004:
            // {InstructionSequence 4 Original, Range=27-36 }
            .line 336,336 : 30,73
            ldloc.2   
            callvirt   instance !0 class [mscorlib]System.Collections.Generic.IEnumerator`1<class NSTM.Infrastructure.TransactionLogEntry>::get_Current()
            stloc.0   
            .line 337,337 : 25,47
            ldloc.0   
            ldfld      bool NSTM.Infrastructure.TransactionLogEntry::isLocked
            brfalse.s  IL_000B

          IL_0005:
            // {InstructionSequence 5 Original, Range=36-3e }
            .line 339,339 : 29,55
            ldarg.0   
            ldfld      class NSTM.NstmTransaction NSTM.NstmTransaction::txParent
            brtrue.s   IL_0007

          IL_0006:
            // {InstructionSequence 6 Original, Range=3e-46 }
            .line 342,342 : 33,51
            ldloc.0   
            callvirt   instance void NSTM.Infrastructure.TransactionLogEntry::Commit()
            .line 0x00feefee
            br.s       IL_000A

          IL_0007:
            // {InstructionSequence 7 Original, Range=46-4e }
            .line 348,348 : 33,94
            ldloc.0   
            isinst     NSTM.Infrastructure.NstmObjectTransactionLogEntry
            brfalse.s  IL_0009

          IL_0008:
            // {InstructionSequence 8 Original, Range=4e-71 }
            .line 349,349 : 37,160
            ldarg.0   
            ldfld      class NSTM.NstmTransaction NSTM.NstmTransaction::txParent
            ldloc.0   
            ldfld      class NSTM.INstmVersioned NSTM.Infrastructure.TransactionLogEntry:: 'instance'
            castclass  NSTM.INstmObject
            ldloc.0   
            castclass  NSTM.Infrastructure.NstmObjectTransactionLogEntry
            ldfld      object NSTM.Infrastructure.NstmObjectTransactionLogEntry::tempValue
            callvirt   instance void NSTM.NstmTransaction::LogWrite(class NSTM.INstmObject,
                                                                    object)
            .line 0x00feefee
            br.s       IL_000A

          IL_0009:
            // {InstructionSequence 9 Original, Range=71-8d }
            .line 351,351 : 37,152
            ldarg.0   
            ldfld      class NSTM.NstmTransaction NSTM.NstmTransaction::txParent
            ldloc.0   
            ldfld      class NSTM.INstmVersioned NSTM.Infrastructure.TransactionLogEntry:: 'instance'
            ldloc.0   
            castclass  NSTM.Infrastructure.FieldlistTransactionLogEntry
            ldfld      class [mscorlib]System.Collections.Generic.Dictionary`2<string, object> NSTM.Infrastructure.FieldlistTransactionLogEntry::tempFieldvalues
            callvirt   instance void NSTM.NstmTransaction::LogWrite(class NSTM.INstmVersioned,
                                                                    class [mscorlib]System.Collections.Generic.Dictionary`2<string, object>)

          IL_000A:
            // {InstructionSequence 10 Original, Range=8d-9f }
            .line 354,354 : 29,61
            ldloc.0   
            ldfld      class NSTM.INstmVersioned NSTM.Infrastructure.TransactionLogEntry:: 'instance'
            call       void [mscorlib]System.Threading.Monitor::Exit(object)
            .line 355,355 : 29,55
            ldloc.0   
            ldc.i4.0  
            stfld      bool NSTM.Infrastructure.TransactionLogEntry::isLocked

          IL_000B:
            // {InstructionSequence 11 Original, Range=9f-a7 }
            .line 336,336 : 74,76
            ldloc.2   
            callvirt   instance bool [mscorlib]System.Collections.IEnumerator::MoveNext()
            brtrue     IL_0004
          }
          // InstructionBlock 12 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), a7-a9

        IL_000C:
          // {InstructionSequence 12 Original, Range=a7-a9 }
          .line 0x00feefee
          leave.s    IL_0010
        }
        finally
        {
          // InstructionBlock 9 [], 0 local(s), 0 handler(s), 0 child(ren), 3 sequence(s), a9-b3

        IL_000D:
          // {InstructionSequence 13 Original, Range=a9-ac }
          ldloc.2   
          brfalse.s  IL_000F

        IL_000E:
          // {InstructionSequence 14 Original, Range=ac-b2 }
          ldloc.2   
          callvirt   instance void [mscorlib]System.IDisposable::Dispose()

        IL_000F:
          // {InstructionSequence 15 Original, Range=b2-b3 }
          endfinally
        }
        // InstructionBlock 10 [], 0 local(s), 0 handler(s), 0 child(ren), 2 sequence(s), b3-c7

      IL_0010:
        // {InstructionSequence 16 Original, Range=b3-c5 }
        .line 358,358 : 21,79
        ldarg.0   
        ldc.i4.2  
        stfld      valuetype NSTM.NstmTransactionActivityMode NSTM.NstmTransaction::activityMode
        .line 359,359 : 21,78
        newobj     instance void NSTM.Infrastructure.ThreadTransactionStack::.ctor()
        ldarg.0   
        call       instance void NSTM.Infrastructure.ThreadTransactionStack::Remove(class NSTM.NstmTransaction)

      IL_0011:
        // {InstructionSequence 17 Original, Range=c5-c7 }
        .line 0x00feefee
        leave.s    IL_0013
      }
      finally
      {
        // InstructionBlock 4 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), c7-ce

      IL_0012:
        // {InstructionSequence 18 Original, Range=c7-ce }
        ldloc.1   
        call       void [mscorlib]System.Threading.Monitor::Exit(object)
        endfinally
      }
      // InstructionBlock 5 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), ce-cf

    IL_0013:
      // {InstructionSequence 19 Original, Range=ce-cf }
      .line 362,362 : 9,10
      ret       
    }
  }
  // End of method: NSTM.NstmTransaction/CommitLogEntries() : void

  .method private hidebysig instance bool
          ValidateLogEntry(class NSTM.Infrastructure.TransactionLogEntry logEntry,
                           bool throwExceptionOnFailure,
                           bool keepLogEntryLockedOnSuccess) cil managed
  {
    .maxstack 2
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 8 sequence(s), 0-5e

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-14 }
    .line 370,370 : 13,46  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
    ldarg.1   
    ldfld      class NSTM.INstmVersioned NSTM.Infrastructure.TransactionLogEntry:: 'instance'
    call       void [mscorlib]System.Threading.Monitor::Enter(object)
    .line 371,372 : 13,63
    ldarg.0   
    ldfld      valuetype NSTM.NstmTransactionIsolationLevel NSTM.NstmTransaction::isolationLevel
    ldc.i4.1  
    bne.un.s   IL_0005

  IL_0001:
    // {InstructionSequence 1 Original, Range=14-27 }
    ldarg.1   
    ldfld      int64 NSTM.Infrastructure.TransactionLogEntry::version
    ldarg.1   
    ldfld      class NSTM.INstmVersioned NSTM.Infrastructure.TransactionLogEntry:: 'instance'
    callvirt   instance int64 NSTM.INstmVersioned::get_Version()
    beq.s      IL_0005

  IL_0002:
    // {InstructionSequence 2 Original, Range=27-41 }
    .line 376,376 : 17,49
    ldarg.1   
    ldfld      class NSTM.INstmVersioned NSTM.Infrastructure.TransactionLogEntry:: 'instance'
    call       void [mscorlib]System.Threading.Monitor::Exit(object)
    .line 377,377 : 17,49
    ldarg.0   
    call       instance void NSTM.NstmTransaction::UnlockAcquiredLogEntries()
    .line 378,378 : 17,33
    ldarg.0   
    call       instance void NSTM.NstmTransaction::Rollback()
    .line 380,380 : 17,45
    ldarg.2   
    brfalse.s  IL_0004

  IL_0003:
    // {InstructionSequence 3 Original, Range=41-4c }
    .line 381,381 : 21,244
    ldstr       "Cannot commit NSTM transaction! Transactional object has been changed by another transaction. (Use the transaction isolation level 'ReadCommitted' to allow for such changes to be ok.)"
    newobj     instance void [mscorlib]System.InvalidOperationException::.ctor(string)
    throw     

  IL_0004:
    // {InstructionSequence 4 Original, Range=4c-4e }
    .line 383,383 : 21,34
    ldc.i4.0  
    ret       

  IL_0005:
    // {InstructionSequence 5 Original, Range=4e-51 }
    .line 386,386 : 17,50
    ldarg.3   
    brtrue.s   IL_0007

  IL_0006:
    // {InstructionSequence 6 Original, Range=51-5c }
    .line 387,387 : 21,53
    ldarg.1   
    ldfld      class NSTM.INstmVersioned NSTM.Infrastructure.TransactionLogEntry:: 'instance'
    call       void [mscorlib]System.Threading.Monitor::Exit(object)

  IL_0007:
    // {InstructionSequence 7 Original, Range=5c-5e }
    .line 389,389 : 13,25
    ldc.i4.1  
    ret       
  }
  // End of method: NSTM.NstmTransaction/ValidateLogEntry(NSTM.Infrastructure.TransactionLogEntry logEntry, bool throwExceptionOnFailure, bool keepLogEntryLockedOnSuccess) : bool

  .method private hidebysig instance void
          UnlockAcquiredLogEntries() cil managed
  {
    .maxstack 2
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 1 local(s), 0 handler(s), 4 child(ren), 0 sequence(s), 0-49
      .locals init ( [1]  class [mscorlib]System.Collections.Generic.IEnumerator`1<class NSTM.Infrastructure.TransactionLogEntry> CS$5$0000)
      // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-11

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-11 }
      .line 395,395 : 69,93  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
      ldarg.0   
      ldfld      class NSTM.Infrastructure.TransactionLog NSTM.NstmTransaction::txLog
      callvirt   instance class [mscorlib]System.Collections.Generic.ICollection`1<class NSTM.Infrastructure.TransactionLogEntry> NSTM.Infrastructure.TransactionLog::get_SortedEntries()
      callvirt   instance class [mscorlib]System.Collections.Generic.IEnumerator`1<!0> class [mscorlib]System.Collections.Generic.IEnumerable`1<class NSTM.Infrastructure.TransactionLogEntry>::GetEnumerator()
      stloc.1   
      .try
      {
        // InstructionBlock 2 [], 0 local(s), 1 handler(s), 2 child(ren), 0 sequence(s), 11-3e
        {
          // InstructionBlock 6 [], 1 local(s), 0 handler(s), 0 child(ren), 4 sequence(s), 11-3c
          .locals init ( [0]  class NSTM.Infrastructure.TransactionLogEntry logEntry)

        IL_0001:
          // {InstructionSequence 1 Original, Range=11-13 }
          .line 0x00feefee
          br.s       IL_0004

        IL_0002:
          // {InstructionSequence 2 Original, Range=13-22 }
          .line 395,395 : 22,65
          ldloc.1   
          callvirt   instance !0 class [mscorlib]System.Collections.Generic.IEnumerator`1<class NSTM.Infrastructure.TransactionLogEntry>::get_Current()
          stloc.0   
          .line 396,396 : 17,39
          ldloc.0   
          ldfld      bool NSTM.Infrastructure.TransactionLogEntry::isLocked
          brfalse.s  IL_0004

        IL_0003:
          // {InstructionSequence 3 Original, Range=22-34 }
          .line 398,398 : 21,53
          ldloc.0   
          ldfld      class NSTM.INstmVersioned NSTM.Infrastructure.TransactionLogEntry:: 'instance'
          call       void [mscorlib]System.Threading.Monitor::Exit(object)
          .line 399,399 : 21,47
          ldloc.0   
          ldc.i4.0  
          stfld      bool NSTM.Infrastructure.TransactionLogEntry::isLocked

        IL_0004:
          // {InstructionSequence 4 Original, Range=34-3c }
          .line 395,395 : 66,68
          ldloc.1   
          callvirt   instance bool [mscorlib]System.Collections.IEnumerator::MoveNext()
          brtrue.s   IL_0002
        }
        // InstructionBlock 7 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 3c-3e

      IL_0005:
        // {InstructionSequence 5 Original, Range=3c-3e }
        .line 0x00feefee
        leave.s    IL_0009
      }
      finally
      {
        // InstructionBlock 4 [], 0 local(s), 0 handler(s), 0 child(ren), 3 sequence(s), 3e-48

      IL_0006:
        // {InstructionSequence 6 Original, Range=3e-41 }
        ldloc.1   
        brfalse.s  IL_0008

      IL_0007:
        // {InstructionSequence 7 Original, Range=41-47 }
        ldloc.1   
        callvirt   instance void [mscorlib]System.IDisposable::Dispose()

      IL_0008:
        // {InstructionSequence 8 Original, Range=47-48 }
        endfinally
      }
      // InstructionBlock 5 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 48-49

    IL_0009:
      // {InstructionSequence 9 Original, Range=48-49 }
      .line 401,401 : 9,10
      ret       
    }
  }
  // End of method: NSTM.NstmTransaction/UnlockAcquiredLogEntries() : void

  .method public hidebysig newslot virtual final
          instance void Rollback() cil managed
  {
    .maxstack 2
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 1 local(s), 0 handler(s), 5 child(ren), 0 sequence(s), 0-4d
      .locals init ( [1]  class NSTM.NstmTransaction CS$2$0000)
      // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 2 sequence(s), 0-10

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-8 }
      .line 406,406 : 13,73  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
      ldarg.0   
      ldfld      valuetype NSTM.NstmTransactionActivityMode NSTM.NstmTransaction::activityMode
      brtrue.s   IL_0004

    IL_0001:
      // {InstructionSequence 1 Original, Range=8-10 }
      .line 408,408 : 17,28
      ldarg.0   
      dup       
      stloc.1   
      call       void [mscorlib]System.Threading.Monitor::Enter(object)
      .try
      {
        // InstructionBlock 2 [], 0 local(s), 1 handler(s), 0 child(ren), 1 sequence(s), 10-2f

      IL_0002:
        // {InstructionSequence 2 Original, Range=10-2f }
        .line 410,410 : 21,75
        ldarg.0   
        newobj     instance void NSTM.Infrastructure.TransactionLog::.ctor()
        stfld      class NSTM.Infrastructure.TransactionLog NSTM.NstmTransaction::txLog
        .line 412,412 : 21,77
        ldarg.0   
        ldc.i4.3  
        stfld      valuetype NSTM.NstmTransactionActivityMode NSTM.NstmTransaction::activityMode
        .line 413,413 : 21,78
        newobj     instance void NSTM.Infrastructure.ThreadTransactionStack::.ctor()
        ldarg.0   
        call       instance void NSTM.Infrastructure.ThreadTransactionStack::Remove(class NSTM.NstmTransaction)
        .line 0x00feefee
        leave.s    IL_0006
      }
      finally
      {
        // InstructionBlock 4 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 2f-36

      IL_0003:
        // {InstructionSequence 3 Original, Range=2f-36 }
        ldloc.1   
        call       void [mscorlib]System.Threading.Monitor::Exit(object)
        endfinally
      }
      {
        // InstructionBlock 6 [], 1 local(s), 0 handler(s), 0 child(ren), 2 sequence(s), 36-4c
        .locals init ( [0]  class NSTM.Infrastructure.ThreadTransactionStack txStack)

      IL_0004:
        // {InstructionSequence 4 Original, Range=36-45 }
        .line 420,420 : 17,114
        newobj     instance void NSTM.Infrastructure.ThreadTransactionStack::.ctor()
        stloc.0   
        .line 421,421 : 17,44
        ldloc.0   
        callvirt   instance class NSTM.NstmTransaction NSTM.Infrastructure.ThreadTransactionStack::Peek()
        ldarg.0   
        bne.un.s   IL_0006

      IL_0005:
        // {InstructionSequence 5 Original, Range=45-4c }
        .line 422,422 : 21,35
        ldloc.0   
        callvirt   instance class NSTM.NstmTransaction NSTM.Infrastructure.ThreadTransactionStack::Pop()
        pop       
      }
      // InstructionBlock 7 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 4c-4d

    IL_0006:
      // {InstructionSequence 6 Original, Range=4c-4d }
      .line 424,424 : 9,10
      ret       
    }
  }
  // End of method: NSTM.NstmTransaction/Rollback() : void

  .method public hidebysig newslot virtual final
          instance void Prepare(class [System.Transactions]System.Transactions.PreparingEnlistment preparingEnlistment) cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 3 sequence(s), 0-17

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-9 }
    .line 434,434 : 13,47  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
    ldarg.0   
    ldc.i4.0  
    call       instance bool NSTM.NstmTransaction::PrepareLogEntries(bool)
    brfalse.s  IL_0002

  IL_0001:
    // {InstructionSequence 1 Original, Range=9-10 }
    .line 435,435 : 17,48
    ldarg.1   
    callvirt   instance void [System.Transactions]System.Transactions.PreparingEnlistment::Prepared()
    .line 0x00feefee
    ret       

  IL_0002:
    // {InstructionSequence 2 Original, Range=10-17 }
    .line 437,437 : 17,53
    ldarg.1   
    callvirt   instance void [System.Transactions]System.Transactions.PreparingEnlistment::ForceRollback()
    .line 438,438 : 9,10
    ret       
  }
  // End of method: NSTM.NstmTransaction/Prepare([System.Transactions]System.Transactions.PreparingEnlistment preparingEnlistment) : void

  .method public hidebysig newslot virtual final
          instance void Commit(class [System.Transactions]System.Transactions.Enlistment enlistment) cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-d

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-d }
    .line 443,443 : 13,37  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
    ldarg.0   
    call       instance void NSTM.NstmTransaction::CommitLogEntries()
    .line 444,444 : 13,31
    ldarg.1   
    callvirt   instance void [System.Transactions]System.Transactions.Enlistment::Done()
    .line 445,445 : 9,10
    ret       
  }
  // End of method: NSTM.NstmTransaction/Commit([System.Transactions]System.Transactions.Enlistment enlistment) : void

  .method public hidebysig newslot virtual final
          instance void InDoubt(class [System.Transactions]System.Transactions.Enlistment enlistment) cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-7

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-7 }
    .line 450,450 : 13,31  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
    ldarg.1   
    callvirt   instance void [System.Transactions]System.Transactions.Enlistment::Done()
    .line 451,451 : 9,10
    ret       
  }
  // End of method: NSTM.NstmTransaction/InDoubt([System.Transactions]System.Transactions.Enlistment enlistment) : void

  .method public hidebysig newslot virtual final
          instance void Rollback(class [System.Transactions]System.Transactions.Enlistment enlistment) cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-d

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-d }
    .line 456,456 : 13,29  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
    ldarg.0   
    call       instance void NSTM.NstmTransaction::Rollback()
    .line 457,457 : 13,31
    ldarg.1   
    callvirt   instance void [System.Transactions]System.Transactions.Enlistment::Done()
    .line 458,458 : 9,10
    ret       
  }
  // End of method: NSTM.NstmTransaction/Rollback([System.Transactions]System.Transactions.Enlistment enlistment) : void

  .method public hidebysig newslot virtual final
          instance void Dispose() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-7

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-7 }
    .line 467,467 : 13,29  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\NstmTransaction.cs'
    ldarg.0   
    call       instance void NSTM.NstmTransaction::Rollback()
    .line 468,468 : 9,10
    ret       
  }
  // End of method: NSTM.NstmTransaction/Dispose() : void

  .property instance int32 LogCount()
  {
    .get instance int32 NSTM.NstmTransaction::get_LogCount()
  }

  .property instance class [System.Transactions]System.Transactions.Transaction
            SystemTransaction()
  {
    .get instance class [System.Transactions]System.Transactions.Transaction NSTM.NstmTransaction::get_SystemTransaction()
  }

  .property instance valuetype NSTM.NstmTransactionIsolationLevel
            IsolationLevel()
  {
    .get instance valuetype NSTM.NstmTransactionIsolationLevel NSTM.NstmTransaction::get_IsolationLevel()
  }

  .property instance valuetype NSTM.NstmTransactionCloneMode
            CloneMode()
  {
    .get instance valuetype NSTM.NstmTransactionCloneMode NSTM.NstmTransaction::get_CloneMode()
  }

  .property instance valuetype NSTM.NstmTransactionActivityMode
            ActivityMode()
  {
    .get instance valuetype NSTM.NstmTransactionActivityMode NSTM.NstmTransaction::get_ActivityMode()
  }

  .property instance bool IsNested()
  {
    .get instance bool NSTM.NstmTransaction::get_IsNested()
  }

}
// End of type: NSTM.NstmTransaction


.class private abstract auto ansi beforefieldinit NSTM.Infrastructure.TransactionLogEntry
      extends [mscorlib]System.Object
      implements  [mscorlib]System.ICloneable
{
  .field assembly class NSTM.INstmVersioned  'instance'

  .field assembly int64 version

  .field assembly bool isLocked

  .field assembly valuetype NSTM.NstmReadOption readOption

  .method assembly hidebysig specialname rtspecialname
          instance void .ctor(class NSTM.INstmVersioned  'instance') cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-22

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-22 }
    .line 10,10 : 9,36  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\TransactionLogEntry.cs'
    ldarg.0   
    ldc.i4.m1 
    conv.i8   
    stfld      int64 NSTM.Infrastructure.TransactionLogEntry::version
    .line 16,16 : 9,62
    ldarg.0   
    call       instance void [mscorlib]System.Object::.ctor()
    .line 18,18 : 13,38
    ldarg.0   
    ldarg.1   
    stfld      class NSTM.INstmVersioned NSTM.Infrastructure.TransactionLogEntry:: 'instance'
    .line 19,19 : 13,45
    ldarg.0   
    ldarg.1   
    callvirt   instance int64 NSTM.INstmVersioned::get_Version()
    stfld      int64 NSTM.Infrastructure.TransactionLogEntry::version
    .line 20,20 : 9,10
    ret       
  }
  // End of method: NSTM.Infrastructure.TransactionLogEntry/.ctor(NSTM.INstmVersioned instance) : void

  .method assembly hidebysig newslot abstract strict virtual
          instance void Commit() cil managed
  {
  }
  // End of method: NSTM.Infrastructure.TransactionLogEntry/Commit() : void

  .method public hidebysig newslot virtual
          instance object Clone() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-b

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-b }
    .line 30,30 : 13,100  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\TransactionLogEntry.cs'
    ldstr       "Method needs to be overridden in derived classes!"
    newobj     instance void [mscorlib]System.NotImplementedException::.ctor(string)
    throw     
  }
  // End of method: NSTM.Infrastructure.TransactionLogEntry/Clone() : object

}
// End of type: NSTM.Infrastructure.TransactionLogEntry


.class private auto ansi beforefieldinit NSTM.Infrastructure.NstmObjectTransactionLogEntry
      extends NSTM.Infrastructure.TransactionLogEntry
{
  .field assembly object tempValue

  .method assembly hidebysig specialname rtspecialname
          instance void .ctor(class NSTM.INstmVersioned  'instance') cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-8

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-8 }
    .line 42,42 : 9,89  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\TransactionLogEntry.cs'
    ldarg.0   
    ldarg.1   
    call       instance void NSTM.Infrastructure.TransactionLogEntry::.ctor(class NSTM.INstmVersioned)
    .line 42,42 : 92,93
    ret       
  }
  // End of method: NSTM.Infrastructure.NstmObjectTransactionLogEntry/.ctor(NSTM.INstmVersioned instance) : void

  .method assembly hidebysig strict virtual
          instance void Commit() cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-22

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-22 }
    .line 47,47 : 13,65  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\TransactionLogEntry.cs'
    ldarg.0   
    ldfld      class NSTM.INstmVersioned NSTM.Infrastructure.TransactionLogEntry:: 'instance'
    castclass  NSTM.INstmObject
    ldarg.0   
    ldfld      object NSTM.Infrastructure.NstmObjectTransactionLogEntry::tempValue
    callvirt   instance void NSTM.INstmObject::set_Value(object)
    .line 48,48 : 13,46
    ldarg.0   
    ldfld      class NSTM.INstmVersioned NSTM.Infrastructure.TransactionLogEntry:: 'instance'
    callvirt   instance void NSTM.INstmVersioned::IncrementVersion()
    .line 49,49 : 9,10
    ret       
  }
  // End of method: NSTM.Infrastructure.NstmObjectTransactionLogEntry/Commit() : void

  .method public hidebysig virtual instance object
          Clone() cil managed
  {
    .maxstack 2
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 1 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-3e
      .locals init ( [0]  class NSTM.Infrastructure.NstmObjectTransactionLogEntry logEntryClone)

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-3e }
      .line 56,56 : 13,108  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\TransactionLogEntry.cs'
      ldarg.0   
      ldfld      class NSTM.INstmVersioned NSTM.Infrastructure.TransactionLogEntry:: 'instance'
      newobj     instance void NSTM.Infrastructure.NstmObjectTransactionLogEntry::.ctor(class NSTM.INstmVersioned)
      stloc.0   
      .line 57,57 : 13,52
      ldloc.0   
      ldarg.0   
      ldfld      bool NSTM.Infrastructure.TransactionLogEntry::isLocked
      stfld      bool NSTM.Infrastructure.TransactionLogEntry::isLocked
      .line 58,58 : 13,50
      ldloc.0   
      ldarg.0   
      ldfld      int64 NSTM.Infrastructure.TransactionLogEntry::version
      stfld      int64 NSTM.Infrastructure.TransactionLogEntry::version
      .line 62,62 : 13,54
      ldloc.0   
      ldarg.0   
      ldfld      object NSTM.Infrastructure.NstmObjectTransactionLogEntry::tempValue
      stfld      object NSTM.Infrastructure.NstmObjectTransactionLogEntry::tempValue
      .line 64,64 : 13,56
      ldloc.0   
      ldarg.0   
      ldfld      valuetype NSTM.NstmReadOption NSTM.Infrastructure.TransactionLogEntry::readOption
      stfld      valuetype NSTM.NstmReadOption NSTM.Infrastructure.TransactionLogEntry::readOption
      .line 65,65 : 13,34
      ldloc.0   
      ret       
    }
  }
  // End of method: NSTM.Infrastructure.NstmObjectTransactionLogEntry/Clone() : object

}
// End of type: NSTM.Infrastructure.NstmObjectTransactionLogEntry


.class private auto ansi beforefieldinit NSTM.Infrastructure.FieldlistTransactionLogEntry
      extends NSTM.Infrastructure.TransactionLogEntry
{
  .field assembly class [mscorlib]System.Collections.Generic.Dictionary`2<string, object> tempFieldvalues

  .method assembly hidebysig specialname rtspecialname
          instance void .ctor(class NSTM.INstmVersioned  'instance') cil managed
  {
    .maxstack 8
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    // InstructionBlock 0 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-13

  IL_0000:
    // {InstructionSequence 0 Original, Range=0-13 }
    .line 77,78 : 9,29  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\TransactionLogEntry.cs'
    ldarg.0   
    ldarg.1   
    call       instance void NSTM.Infrastructure.TransactionLogEntry::.ctor(class NSTM.INstmVersioned)
    .line 80,80 : 13,69
    ldarg.0   
    newobj     instance void class [mscorlib]System.Collections.Generic.Dictionary`2<string, object>::.ctor()
    stfld      class [mscorlib]System.Collections.Generic.Dictionary`2<string, object> NSTM.Infrastructure.FieldlistTransactionLogEntry::tempFieldvalues
    .line 81,81 : 9,10
    ret       
  }
  // End of method: NSTM.Infrastructure.FieldlistTransactionLogEntry/.ctor(NSTM.INstmVersioned instance) : void

  .method assembly hidebysig strict virtual
          instance void Commit() cil managed
  {
    .maxstack 4
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 2 local(s), 0 handler(s), 4 child(ren), 0 sequence(s), 0-6e
      .locals init ( [0]  class [mscorlib]System.Type t,
                     [3]  valuetype [mscorlib]System.Collections.Generic.Dictionary`2/KeyCollection/Enumerator<string, object> CS$5$0000)
      // InstructionBlock 1 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-1d

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-1d }
      .line 86,86 : 13,46  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\TransactionLogEntry.cs'
      ldarg.0   
      ldfld      class NSTM.INstmVersioned NSTM.Infrastructure.TransactionLogEntry:: 'instance'
      callvirt   instance class [mscorlib]System.Type [mscorlib]System.Object::GetType()
      stloc.0   
      .line 87,87 : 36,61
      ldarg.0   
      ldfld      class [mscorlib]System.Collections.Generic.Dictionary`2<string, object> NSTM.Infrastructure.FieldlistTransactionLogEntry::tempFieldvalues
      callvirt   instance class [mscorlib]System.Collections.Generic.Dictionary`2/KeyCollection<!0, !1> class [mscorlib]System.Collections.Generic.Dictionary`2<string, object>::get_Keys()
      callvirt   instance valuetype [mscorlib]System.Collections.Generic.Dictionary`2/KeyCollection/Enumerator<!0, !1> class [mscorlib]System.Collections.Generic.Dictionary`2/KeyCollection<string, object>::GetEnumerator()
      stloc.3   
      .try
      {
        // InstructionBlock 2 [], 0 local(s), 1 handler(s), 2 child(ren), 0 sequence(s), 1d-54
        {
          // InstructionBlock 6 [], 1 local(s), 0 handler(s), 3 child(ren), 0 sequence(s), 1d-52
          .locals init ( [1]  string key)
          // InstructionBlock 8 [], 0 local(s), 0 handler(s), 0 child(ren), 2 sequence(s), 1d-27

        IL_0001:
          // {InstructionSequence 1 Original, Range=1d-1f }
          .line 0x00feefee
          br.s       IL_0004

        IL_0002:
          // {InstructionSequence 2 Original, Range=1f-27 }
          .line 87,87 : 22,32
          ldloca.s   CS$5$0000
          call       instance !0 valuetype [mscorlib]System.Collections.Generic.Dictionary`2/KeyCollection/Enumerator<string, object>::get_Current()
          stloc.1   
          {
            // InstructionBlock 9 [], 1 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 27-49
            .locals init ( [2]  class [mscorlib]System.Reflection.FieldInfo fi)

          IL_0003:
            // {InstructionSequence 3 Original, Range=27-49 }
            .line 89,89 : 17,190
            ldloc.0   
            ldloc.1   
            ldc.i4.s   52
            callvirt   instance class [mscorlib]System.Reflection.FieldInfo [mscorlib]System.Type::GetField(string,
                                                                                                            valuetype [mscorlib]System.Reflection.BindingFlags)
            stloc.2   
            .line 90,90 : 17,71
            ldloc.2   
            ldarg.0   
            ldfld      class NSTM.INstmVersioned NSTM.Infrastructure.TransactionLogEntry:: 'instance'
            ldarg.0   
            ldfld      class [mscorlib]System.Collections.Generic.Dictionary`2<string, object> NSTM.Infrastructure.FieldlistTransactionLogEntry::tempFieldvalues
            ldloc.1   
            callvirt   instance !1 class [mscorlib]System.Collections.Generic.Dictionary`2<string, object>::get_Item(!0)
            callvirt   instance void [mscorlib]System.Reflection.FieldInfo::SetValue(object,
                                                                                     object)
          }
          // InstructionBlock 10 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 49-52

        IL_0004:
          // {InstructionSequence 4 Original, Range=49-52 }
          .line 87,87 : 33,35
          ldloca.s   CS$5$0000
          call       instance bool valuetype [mscorlib]System.Collections.Generic.Dictionary`2/KeyCollection/Enumerator<string, object>::MoveNext()
          brtrue.s   IL_0002
        }
        // InstructionBlock 7 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 52-54

      IL_0005:
        // {InstructionSequence 5 Original, Range=52-54 }
        .line 0x00feefee
        leave.s    IL_0007
      }
      finally
      {
        // InstructionBlock 4 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 54-62

      IL_0006:
        // {InstructionSequence 6 Original, Range=54-62 }
        ldloca.s   CS$5$0000
        constrained.  valuetype [mscorlib]System.Collections.Generic.Dictionary`2/KeyCollection/Enumerator<string, object>
        callvirt   instance void [mscorlib]System.IDisposable::Dispose()
        endfinally
      }
      // InstructionBlock 5 [], 0 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 62-6e

    IL_0007:
      // {InstructionSequence 7 Original, Range=62-6e }
      .line 92,92 : 13,46
      ldarg.0   
      ldfld      class NSTM.INstmVersioned NSTM.Infrastructure.TransactionLogEntry:: 'instance'
      callvirt   instance void NSTM.INstmVersioned::IncrementVersion()
      .line 93,93 : 9,10
      ret       
    }
  }
  // End of method: NSTM.Infrastructure.FieldlistTransactionLogEntry/Commit() : void

  .method public hidebysig virtual instance object
          Clone() cil managed
  {
    .maxstack 3
    .language  '{3f5162f8-07c6-11d3-9053-00c04fa302a1}',  '{994b45c4-e6e9-11d2-903f-00c04fa302a1}',  '{5a869d0b-6611-11d3-bd2a-0000f80849bd}'

    {
      // InstructionBlock 0 [], 1 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-43
      .locals init ( [0]  class NSTM.Infrastructure.FieldlistTransactionLogEntry logEntryClone)

    IL_0000:
      // {InstructionSequence 0 Original, Range=0-43 }
      .line 100,100 : 13,106  'C:\\My Software Projects\\XVSM\\SoftwareTransactionalMemory Prototype\\NSTM\\Infrastructure\\TransactionLogEntry.cs'
      ldarg.0   
      ldfld      class NSTM.INstmVersioned NSTM.Infrastructure.TransactionLogEntry:: 'instance'
      newobj     instance void NSTM.Infrastructure.FieldlistTransactionLogEntry::.ctor(class NSTM.INstmVersioned)
      stloc.0   
      .line 101,101 : 13,52
      ldloc.0   
      ldarg.0   
      ldfld      bool NSTM.Infrastructure.TransactionLogEntry::isLocked
      stfld      bool NSTM.Infrastructure.TransactionLogEntry::isLocked
      .line 102,102 : 13,50
      ldloc.0   
      ldarg.0   
      ldfld      int64 NSTM.Infrastructure.TransactionLogEntry::version
      stfld      int64 NSTM.Infrastructure.TransactionLogEntry::version
      .line 104,104 : 13,98
      ldloc.0   
      ldarg.0   
      ldfld      class [mscorlib]System.Collections.Generic.Dictionary`2<string, object> NSTM.Infrastructure.FieldlistTransactionLogEntry::tempFieldvalues
      newobj     instance void class [mscorlib]System.Collections.Generic.Dictionary`2<string, object>::.ctor(class [mscorlib]System.Collections.Generic.IDictionary`2<!0, !1>)
      stfld      class [mscorlib]System.Collections.Generic.Dictionary`2<string, object> NSTM.Infrastructure.FieldlistTransactionLogEntry::tempFieldvalues
      .line 107,107 : 13,56
      ldloc.0   
      ldarg.0   
      ldfld      valuetype NSTM.NstmReadOption NSTM.Infrastructure.TransactionLogEntry::readOption
      stfld      valuetype NSTM.NstmReadOption NSTM.Infrastructure.TransactionLogEntry::readOption
      .line 108,108 : 13,34
      ldloc.0   
      ret       
    }
  }
  // End of method: NSTM.Infrastructure.FieldlistTransactionLogEntry/Clone() : object

}
// End of type: NSTM.Infrastructure.FieldlistTransactionLogEntry


.class private auto ansi sealed '~PostSharp~Laos~Implementation'
      extends [mscorlib]System.Object
{
  .field static assembly bool initialized

  .field static assembly initonly class NSTM.NstmVersionableAspect  '~aspect~2'

  .field static assembly initonly class NSTM.NstmTransactionalAspect  '~aspect~3'

  .field static assembly class [mscorlib]System.Type  '~targetType~2'

  .field static assembly class [mscorlib]System.Reflection.FieldInfo  '~targetField~3'

  .method private hidebysig specialname rtspecialname static
          void .cctor() cil managed
  {
    .maxstack 2
    {
      // InstructionBlock 0 [], 1 local(s), 0 handler(s), 0 child(ren), 1 sequence(s), 0-0
      .locals init ( [0]  object[] customAttributeArray)

    IL_0000:
      // {InstructionSequence 0 Modified, Comment=""}
      call       class [mscorlib]System.Reflection.Assembly [mscorlib]System.Reflection.Assembly::GetCallingAssembly()
      ldstr       "~PostSharp~Laos~CustomAttributes~"
      call       object [PostSharp.Laos]PostSharp.Laos.Internals::DeserializeFromResource(class [mscorlib]System.Reflection.Assembly,
                                                                                          string)
      castclass  object[]
      stloc      customAttributeArray
      ldloc      customAttributeArray
      ldc.i4     0x0
      ldelem     object
      castclass  NSTM.NstmVersionableAspect
      stsfld     class NSTM.NstmVersionableAspect '~PostSharp~Laos~Implementation':: '~aspect~2'
      ldloc      customAttributeArray
      ldc.i4     0x1
      ldelem     object
      castclass  NSTM.NstmTransactionalAspect
      stsfld     class NSTM.NstmTransactionalAspect '~PostSharp~Laos~Implementation':: '~aspect~3'
      ldc.i4.1  
      stsfld     bool '~PostSharp~Laos~Implementation'::initialized
      ret       
    }
  }
  // End of method: ~PostSharp~Laos~Implementation/.cctor() : void

}
// End of type: ~PostSharp~Laos~Implementation


